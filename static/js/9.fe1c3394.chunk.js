(this.webpackJsonppoemandtravel=this.webpackJsonppoemandtravel||[]).push([[9],{737:function(e,a,t){e.exports={Container:"AddPost_Container__149pW",Field:"AddPost_Field__8Y_-u",Intro:"AddPost_Intro__3S6hh",Required:"AddPost_Required__2vLdl",Submit:"AddPost_Submit__1Mso0",SubmitError:"AddPost_SubmitError__1VLHg",SubmitSuccess:"AddPost_SubmitSuccess__smp3s"}},837:function(e,a,t){"use strict";t.r(a);var n=t(667),l=t.n(n),r=t(83),c=t(0),i=t.n(c),u=t(825),m=t(28),d=t(100),s=t.n(d),o=t(724),E=t(119),p=t(737),v=t.n(p),b=function(e){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",s.a.put("https://2vpgvmhzzi.execute-api.ap-northeast-1.amazonaws.com/dev/posts/add",e).then((function(e){console.log(e.data.body)})).catch((function(e){return console.log(e),Object(r.a)({},o.a,"\u60e8\u3002\u63d0\u4ea4\u5931\u8d25")})));case 1:case"end":return a.stop()}}))},h=function(e){return e?void 0:"\u5fc5\u586b"},f=function(e){return e&&e.match(/^\d{4}-\d{2}-\d{2}$/i)?void 0:"\u683c\u5f0f YYYY-MM-DD"},N=function(e){return isNaN(e)?"\u5fc5\u987b\u662f\u6570\u5b57":void 0},g=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(e){return a.reduce((function(a,t){return a||t(e)}),void 0)}};a.default=Object(m.g)(Object(E.a)((function(e){var a=e.isAuthenticated,t=e.isAdmin,n=void 0!==t&&t,l=e.history,r=e.location;return a||l.push({pathname:"/login",state:{background:r.pathname}}),console.log(n),n?i.a.createElement("div",{className:v.a.Container},i.a.createElement("h1",null,"\u6dfb\u52a0\u516c\u4f17\u53f7\u6587\u7ae0\u5230\u672c\u7ad9"),i.a.createElement(u.b,{onSubmit:b,initialValues:{},render:function(e){var a,t,n=e.submitError,l=e.handleSubmit,r=(e.form,e.submitting),c=e.pristine,m=e.submitSucceeded;return i.a.createElement("form",{onSubmit:l},i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"author",validate:h,defaultValue:"\u53f8\u5317"},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u4f5c\u8005"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"\u5982: \u53f8\u5317"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"title",validate:h},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u6587\u7ae0\u6807\u9898"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"\u5982: \u5317\u6d77\u9053\uff5c\u4e94\u68f1\u90ed\u4e4b\u6625"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"written_date",validate:g(h,f)},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u53d1\u8868\u65e5\u671f"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"\u5982: 2019-11-09"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"url",validate:h},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u6587\u7ae0\u6c38\u4e45\u94fe\u63a5"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"\u5982: https://mp.weixin.qq.com/s/NgJWFXc6qs41MAO4ukj9bA"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"imageUrl",validate:h,defaultValue:"https://d2kzvla2luyxns.cloudfront.net/images/"},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u6587\u7ae0\u5c01\u9762\u56fe\u7247\u94fe\u63a5"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"\u5982: https://mmbiz.qpic.cn/mmbiz_jpg/..."})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"city",validate:h},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u6587\u7ae0\u4ecb\u7ecd\u7684\u57ce\u5e02\u6216\u53bf"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"\u5982: \u4e1c\u4eac"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"country",validate:h},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u6587\u7ae0\u4ecb\u7ecd\u7684\u56fd\u5bb6"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"\u5982: \u65e5\u672c"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"countryCode",validate:h},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u56fd\u5bb6\u4ee3\u7801\uff08\u5982JP, NZ)"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"\u5982: JP"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"lat",validate:g(h,N)},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u5750\u6807\u7eac\u5ea6 (lat)"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"number",placeholder:"\u5982: 35.6712"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"lng",validate:g(h,N)},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",{className:v.a.Required},"\u5750\u6807\u7ecf\u5ea6 (lng)"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"number",placeholder:"\u5982: 139.7665"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"tag"},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",null,"\u6587\u7ae0\u6807\u7b7e (\u53ef\u9009\uff0c\u8bf7\u7528\u9017\u53f7\u9694\u5f00)"),i.a.createElement("div",null,i.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"\u5982: \u516d\u672c\u6728, \u795e\u793e, \u94a2\u94c1"})),t.error&&t.touched&&i.a.createElement("span",null,t.error)))}))),i.a.createElement("div",{className:"".concat(v.a.Field," ").concat(v.a.Intro)},i.a.createElement("label",null,"\u6587\u7ae0\u4ecb\u7ecd\uff08\u53ef\u9009\uff09"),i.a.createElement(u.a,{name:"introduction",component:"textarea",placeholder:"Notes",maxLength:100})),i.a.createElement("div",{className:v.a.Field},i.a.createElement(u.a,{name:"score",validate:g(h,(t=0,function(e){return isNaN(e)||e>=t?void 0:"\u5fc5\u987b\u5927\u4e8e ".concat(t)}),(a=5,function(e){return isNaN(e)||e<=a?void 0:"\u5fc5\u987b\u5c0f\u4e8e ".concat(a)})),defaultValue:5},(function(e){var a=e.input,t=e.meta;return i.a.createElement("div",null,i.a.createElement("label",null,"\u6587\u7ae0\u6253\u5206 (\u53ef\u9009\uff0c0-5)"),i.a.createElement("input",Object.assign({},a,{type:"number",placeholder:"\u5982: 5"})),t.error&&t.touched&&i.a.createElement("span",null,t.error))}))),i.a.createElement("div",{className:v.a.Submit},i.a.createElement("button",{type:"submit",disabled:r||c},"\u63d0\u4ea4")),n&&i.a.createElement("div",{className:v.a.SubmitError},n),m&&i.a.createElement("div",{className:v.a.SubmitSuccess},"\u63d0\u4ea4\u6210\u529f\uff01"))}})):i.a.createElement("div",{className:v.a.Container},i.a.createElement("h1",null,"\u4e0d\u597d\u610f\u601d\uff0c\u8d26\u53f7\u9700\u8981\u66f4\u591a\u6743\u9650\u3002"),i.a.createElement("h2",null,"\u8bf7\u4e0e\u5c0f\u57ce\u8054\u7cfb\u3002"))})))}}]);
//# sourceMappingURL=9.fe1c3394.chunk.js.map