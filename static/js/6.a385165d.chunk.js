(this.webpackJsonppoemandtravel=this.webpackJsonppoemandtravel||[]).push([[6],{635:function(e,n,t){e.exports={Container:"Auth_Container__3IkAe"}},638:function(e,n,t){"use strict";var o=t(68),i=t(69),r=t(71),a=t(70),l=t(116),d=t(72),c=t(0),p=t.n(c),s=t(74),u=t(651),g=t(700),b=t(120),h=t(77),f={container:{fontFamily:'Nunito,\n                -apple-system,\n                BlinkMacSystemFont,\n                "Segoe UI",\n                "Helvetica Neue",\n                Arial,\n                sans-serif,\n                "Apple Color Emoji",\n                "Segoe UI Emoji",\n                "Segoe UI Symbol"',fontWeight:"400",lineHeight:"1.5",color:"#212529",textAlign:"left",paddingLeft:"15px",paddingRight:"15px"},navBar:{position:"relative",marginBottom:"20px",marginLeft:"-15px",marginRight:"-15px",border:"1px solid transparent",backgroundColor:"#f8f8f8",borderColor:"#e7e7e7"},nav:{margin:"7.5px"},navRight:{textAlign:"right"},navItem:{display:"inline-block",padding:"10px 5px",lineHeight:"20px"},navButton:{display:"inline-block",padding:"6px 12px",marginTop:"8px",marginBottom:"8px",fontSize:"14px",fontWeight:400,lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer",userSelect:"none",backgroundImage:"none",border:"1px solid transparent",borderRadius:"4px",color:"#333",backgroundColor:"#fff",borderColor:"#ccc"},formContainer:{textAlign:"center"},formSection:{marginBottom:"20px",backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"4px",textAlign:"left",width:"500px",display:"inline-block"},errorSection:{marginBottom:"20px",color:"#fff",backgroundColor:"#f0ad4e",border:"1px solid #eea236",borderRadius:"4px",textAlign:"left"},sectionHeader:{color:"#000",padding:"10px 15px",borderBottom:"1px solid transparent",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",textAlign:"center"},sectionBody:{padding:"15px"},sectionFooter:{color:"#333",backgroundColor:"#f5f5f5",padding:"10px 15px",borderTop:"1px solid #ddd",borderTopLeftRadius:"3px",borderTopRightRadius:"3px"},formRow:{marginBottom:"15px"},actionRow:{marginBottom:"15px"},space:{display:"inline-block",width:"20px"},signInButton:{position:"relative",padding:"6px 12px 6px 44px",fontSize:"14px",textAlign:"left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",width:"100%",marginTop:"2px"},input:{display:"block",width:"100%",height:"34px",padding:"6px 12px",fontSize:"14px",lineHeight:"1.42857143",color:"#555",backgroundColor:"#fff",backgroundImage:"none",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"inset 0 1px 1px rgba(0,0,0,.075)",boxSizing:"border-box",transition:"border-color ease-in-out .15s,box-shadow ease-in-out .15s"},button:{display:"inline-block",padding:"6px 12px",marginBottom:"0",fontSize:"14px",fontWeight:400,lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer",userSelect:"none",backgroundImage:"none",border:"1px solid transparent",borderRadius:"4px",color:"#333",backgroundColor:"#fff",borderColor:"#ccc"},a:{color:"#007bff"},pre:{overflow:"auto",fontFamily:'Menlo,\n                Monaco,\n                Consolas,\n                "Courier New",\n                monospace',display:"block",padding:"9.5px",margin:"0 0 10px",fontSize:"13px",lineHeight:"1.42857143",color:"#333",wordBreak:"break-all",wordWrap:"break-word",backgroundColor:"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px"},col1:{display:"inline-block",width:"8.33333333%"},col2:{display:"inline-block",width:"16.66666667%"},col3:{display:"inline-block",width:"25%"},col4:{display:"inline-block",width:"33.33333333%"},col5:{display:"inline-block",width:"41.66666667%"},col6:{display:"inline-block",width:"50%"},col7:{display:"inline-block",width:"58.33333333%"},col8:{display:"inline-block",width:"66.66666667%"},col9:{display:"inline-block",width:"75%"},col10:{display:"inline-block",width:"83.33333333%"},col11:{display:"inline-block",width:"91.66666667%"},col12:{display:"inline-block",width:"100%"}},x=t(635),m=t.n(x),k=function(e){function n(){var e,t;Object(o.a)(this,n);for(var i=arguments.length,d=new Array(i),c=0;c<i;c++)d[c]=arguments[c];return(t=Object(r.a)(this,(e=Object(a.a)(n)).call.apply(e,[this].concat(d)))).listenerSet=!1,t.detectTimer=void 0,t.handleError=function(e){return t.props.authFailure(e),e},t.handleRegister=function(){!t.listenerSet&&document.querySelector("button[type=submit]")&&(document.querySelector("button[type=submit]").addEventListener("click",t.handleClickSignIn.bind(Object(l.a)(t))),t.listenerSet=!0)},t.handleClickSignIn=function(){t.props.authStart()},t.handleStateChange=function(e,n){var o=t.props.authSuccess;if("signedIn"===e&&n&&n.getUserData){var i=n.getSignInUserSession(),r=!1;if(i){var a=i.getIdToken().decodePayload();a["cognito:groups"]&&(r=a["cognito:groups"].includes("admin"))}n.getUserData((function(e,t){if(t){var i=Object(b.a)(t.UserAttributes,"Name","Value");i.isAdmin=r,o(n,i)}else Object(h.a)(e)}))}},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){this.detectTimer=setInterval(this.handleRegister,200)}},{key:"componentWillUnmount",value:function(){clearInterval(this.detectTimer)}},{key:"render",value:function(){var e=this.props,n=e.authState,t=e.isLoading;return p.a.createElement("div",{className:m.a.Container},t&&p.a.createElement(g.a,{color:"secondary"}),p.a.createElement(u.a,{authState:n||"signIn",theme:f,hide:[u.b],errorMessage:this.handleError,onStateChange:this.handleStateChange,signUpConfig:{hideAllDefaults:!0,signUpFields:[{label:"\u6635\u79f0",key:"given_name",required:!0,placeholder:"\u6635\u79f0",type:"string",displayOrder:1},{label:"\u90ae\u7bb1",key:"username",required:!0,placeholder:"\u90ae\u7bb1\u5730\u5740",type:"email",displayOrder:3},{label:"\u5bc6\u7801",key:"password",required:!0,placeholder:"\u5bc6\u7801",type:"password",displayOrder:4}]}}))}}]),n}(c.PureComponent);n.a=Object(s.b)((function(e){var n=e.auth;return{isAuthenticated:n.isAuthenticated,isLoading:n.fetching}}),(function(e){return{authSuccess:function(n,t){return e(Object(h.d)(n,t))},authStart:function(){return e(Object(h.c)())},authFailure:function(n){return e(Object(h.a)(n))}}}))(k)},699:function(e,n,t){"use strict";t.r(n);var o=t(0),i=t.n(o),r=t(28),a=t(638);n.default=Object(r.g)((function(e){return e.isAuthenticated?e.location.state&&e.location.state.background?i.a.createElement(r.a,{to:e.location.state.background}):i.a.createElement(r.a,{to:"/"}):i.a.createElement("div",null,i.a.createElement(a.a,null))}))}}]);
//# sourceMappingURL=6.a385165d.chunk.js.map