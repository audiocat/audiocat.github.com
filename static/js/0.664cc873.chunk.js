(this.webpackJsonppoemandtravel=this.webpackJsonppoemandtravel||[]).push([[0],{629:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var o={display:"block",width:"100%",height:"34px",padding:"6px 12px",fontSize:"14px",lineHeight:"1.42857143",color:"#555",backgroundColor:"#fff",backgroundImage:"none",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"inset 0 1px 1px rgba(0,0,0,.075)",boxSizing:"border-box",transition:"border-color ease-in-out .15s,box-shadow ease-in-out .15s"},r={display:"inline-block",padding:"6px 12px",marginBottom:"0",fontSize:"14px",fontWeight:400,lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer",userSelect:"none",backgroundImage:"none",border:"1px solid transparent",borderRadius:"4px",color:"#333",backgroundColor:"#fff",borderColor:"#ccc"},i={container:{fontFamily:'-apple-system,\n                BlinkMacSystemFont,\n                "Segoe UI",\n                Roboto,\n                "Helvetica Neue",\n                Arial,\n                sans-serif,\n                "Apple Color Emoji",\n                "Segoe UI Emoji",\n                "Segoe UI Symbol"',fontWeight:"400",lineHeight:"1.5",color:"#212529",textAlign:"left",paddingLeft:"15px",paddingRight:"15px"},navBar:{position:"relative",border:"1px solid transparent",borderColor:"#e7e7e7"},nav:{margin:"7.5px"},navRight:{textAlign:"right"},navItem:{display:"inline-block",padding:"10px 5px",lineHeight:"20px"},navButton:{display:"inline-block",padding:"6px 12px",marginTop:"8px",marginBottom:"8px",fontSize:"14px",fontWeight:400,lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer",userSelect:"none",backgroundImage:"none",border:"1px solid transparent",borderRadius:"4px",color:"#333",backgroundColor:"#fff",borderColor:"#ccc"},formContainer:{textAlign:"center"},formSection:{marginBottom:"20px",backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"4px",textAlign:"left",width:"400px",display:"inline-block"},errorSection:{marginBottom:"20px",color:"#fff",backgroundColor:"#f0ad4e",border:"1px solid #eea236",borderRadius:"4px",textAlign:"left"},sectionHeader:{color:"#fff",backgroundColor:"#337ab7",borderColor:"#337ab7",padding:"10px 15px",borderBottom:"1px solid transparent",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",textAlign:"center"},sectionBody:{padding:"15px"},sectionFooter:{color:"#333",backgroundColor:"#f5f5f5",padding:"10px 15px",borderTop:"1px solid #ddd",borderTopLeftRadius:"3px",borderTopRightRadius:"3px"},formRow:{marginBottom:"15px"},actionRow:{marginBottom:"15px"},space:{display:"inline-block",width:"20px"},signInButton:{position:"relative",padding:"6px 12px 6px 44px",fontSize:"14px",textAlign:"left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",width:"100%",marginTop:"2px","#google_signin_btn":{color:"#fff",backgroundColor:"#dd4b39",borderColor:"rgba(0,0,0,0.2)"},"#facebook_signin_btn":{color:"#fff",backgroundColor:"#3b5998",borderColor:"rgba(0,0,0,0.2)"}},input:o,button:r,a:{color:"#007bff",cursor:"pointer"},pre:{overflow:"auto",fontFamily:'Menlo,\n                Monaco,\n                Consolas,\n                "Courier New",\n                monospace',display:"block",padding:"9.5px",margin:"0 0 10px",fontSize:"13px",lineHeight:"1.42857143",color:"#333",wordBreak:"break-all",wordWrap:"break-word",backgroundColor:"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px"},col1:{display:"inline-block",width:"8.33333333%"},col2:{display:"inline-block",width:"16.66666667%"},col3:{display:"inline-block",width:"25%"},col4:{display:"inline-block",width:"33.33333333%"},col5:{display:"inline-block",width:"41.66666667%"},col6:{display:"inline-block",width:"50%"},col7:{display:"inline-block",width:"58.33333333%"},col8:{display:"inline-block",width:"66.66666667%"},col9:{display:"inline-block",width:"75%"},col10:{display:"inline-block",width:"83.33333333%"},col11:{display:"inline-block",width:"91.66666667%"},col12:{display:"inline-block",width:"100%"},hidden:{display:"none"}};t.c=i},630:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return g}));var o=n(0),r=n(1),i=n(629),a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=function(e){var t=e.theme||i.c,n=m(e,t.formContainer);return f(o.createElement("div",{className:"amplify-form-container",style:n},e.children))},c=function(e){var t=e.theme||i.c,n=m(e,t.formSection);return o.createElement(s,{theme:t},f(o.createElement("div",{className:"amplify-form-section",style:n},e.children)))},u=function(e){var t=e.theme||i.c,n=m(e,t.sectionHeader),s=r.j.objectLessAttributes(e,"theme");return f(o.createElement("div",a({},s,{className:"amplify-section-header",style:n}),o.createElement(l,{theme:t},e.children)))},l=function(e){var t=e.theme||i.c,n=m(e,t.sectionHeaderContent);return f(o.createElement("span",{className:"amplify-section-header-content",style:n},e.children))},p=function(e){var t=e.theme||i.c,n=m(e,t.sectionFooter),s=r.j.objectLessAttributes(e,"theme");return f(o.createElement("div",a({},s,{className:"amplify-section-footer",style:n}),o.createElement(d,null,e.children)))},d=function(e){var t=e.theme||i.c,n=m(e,t.sectionFooterContent);return f(o.createElement("span",{className:"amplify-section-footer-content",style:n},e.children))},h=function(e){var t=e.theme||i.c,n=m(e,t.sectionBody),s=r.j.objectLessAttributes(e,"theme");return f(o.createElement("div",a({},s,{className:"amplify-section-body",style:n}),e.children))},f=function(e){var t=e.props.style||{},n=t.before,r=t.after;return n||r?o.createElement("span",{style:{position:"relative"}},n?o.createElement("span",{style:n},n.content):null,e,r?o.createElement("span",{style:r},r.content):null):e},m=function(e,t){var n=e.id,o=e.style,r=Object.assign({},o,t);if(!n)return r;var i="#"+n;return Object.assign(r,r[i]),r},g="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},639:function(e,t){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},640:function(e,t){e.exports={L:1,M:0,Q:3,H:2}},641:function(e,t,n){var o=n(642);function r(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var o=0;o<e.length-n;o++)this.num[o]=e[o+n]}r.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=o.gexp(o.glog(this.get(n))+o.glog(e.get(i)));return new r(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=o.glog(this.get(0))-o.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=o.gexp(o.glog(e.get(i))+t);return new r(n,0).mod(e)}},e.exports=r},642:function(e,t){for(var n={glog:function(e){if(e<1)throw new Error("glog("+e+")");return n.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return n.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},o=0;o<8;o++)n.EXP_TABLE[o]=1<<o;for(o=8;o<256;o++)n.EXP_TABLE[o]=n.EXP_TABLE[o-4]^n.EXP_TABLE[o-5]^n.EXP_TABLE[o-6]^n.EXP_TABLE[o-8];for(o=0;o<255;o++)n.LOG_TABLE[n.EXP_TABLE[o]]=o;e.exports=n},643:function(e,t,n){"use strict";(function(e){var t,o=n(0),r=n(630),i=n(629),a=n(1),s=n(78),c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},l=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},d=(new a.c("ChatBot"),{itemMe:{padding:10,fontSize:12,color:"gray",marginTop:4,textAlign:"right"},itemBot:{fontSize:12,textAlign:"left"},list:{height:"300px",overflow:"auto"},textInput:Object.assign({},i.b,{display:"inline-block",width:"calc(100% - 90px - 15px)"}),button:Object.assign({},i.a,{width:"60px",float:"right"}),mic:Object.assign({},i.a,{width:"40px",float:"right"})}),h={INITIAL:{MESSAGE:"Type your message or click  \ud83c\udfa4",ICON:"\ud83c\udfa4"},LISTENING:{MESSAGE:"Listening... click \ud83d\udd34 again to cancel",ICON:"\ud83d\udd34"},SENDING:{MESSAGE:"Please wait...",ICON:"\ud83d\udd0a"},SPEAKING:{MESSAGE:"Speaking...",ICON:"..."}},f=function(f){function m(r){var a=f.call(this,r)||this;if(a.props.voiceEnabled&&(n(666),t=new e.LexAudio.audioControl),!a.props.textEnabled&&a.props.voiceEnabled&&(h.INITIAL.MESSAGE="Click the mic button",d.textInput=Object.assign({},i.b,{display:"inline-block",width:"calc(100% - 40px - 15px)"})),a.props.textEnabled&&!a.props.voiceEnabled&&(h.INITIAL.MESSAGE="Type a message",d.textInput=Object.assign({},i.b,{display:"inline-block",width:"calc(100% - 60px - 15px)"})),!a.props.voiceConfig.silenceDetectionConfig)throw new Error("voiceConfig prop is missing silenceDetectionConfig");return a.state={dialog:[{message:a.props.welcomeMessage||"Welcome to Lex",from:"system"}],inputText:"",currentVoiceState:h.INITIAL,inputDisabled:!1,micText:h.INITIAL.ICON,continueConversation:!1,micButtonDisabled:!1},a.micButtonHandler=a.micButtonHandler.bind(a),a.changeInputText=a.changeInputText.bind(a),a.listItems=a.listItems.bind(a),a.submit=a.submit.bind(a),a.listItemsRef=o.createRef(),a.onSilenceHandler=a.onSilenceHandler.bind(a),a.doneSpeakingHandler=a.doneSpeakingHandler.bind(a),a.lexResponseHandler=a.lexResponseHandler.bind(a),a}return c(m,f),m.prototype.micButtonHandler=function(){return u(this,void 0,void 0,(function(){var e=this;return l(this,(function(n){return this.state.continueConversation?this.reset():this.setState({inputDisabled:!0,continueConversation:!0,currentVoiceState:h.LISTENING,micText:h.LISTENING.ICON,micButtonDisabled:!1},(function(){t.startRecording(e.onSilenceHandler,null,e.props.voiceConfig.silenceDetectionConfig)})),[2]}))}))},m.prototype.onSilenceHandler=function(){var e=this;t.stopRecording(),this.state.continueConversation&&t.exportWAV((function(t){e.setState({currentVoiceState:h.SENDING,audioInput:t,micText:h.SENDING.ICON,micButtonDisabled:!0},(function(){e.lexResponseHandler()}))}))},m.prototype.lexResponseHandler=function(){return u(this,void 0,void 0,(function(){var e,t,n=this;return l(this,(function(o){switch(o.label){case 0:if(!s.a||"function"!==typeof s.a.send)throw new Error("No Interactions module found, please ensure @aws-amplify/interactions is imported");return this.state.continueConversation?(e={content:this.state.audioInput,options:{messageType:"voice"}},[4,s.a.send(this.props.botName,e)]):[2];case 1:return t=o.sent(),this.setState({lexResponse:t,currentVoiceState:h.SPEAKING,micText:h.SPEAKING.ICON,micButtonDisabled:!0,dialog:p(this.state.dialog,[{message:t.inputTranscript,from:"me"},t&&{from:"bot",message:t.message}]),inputText:""},(function(){n.doneSpeakingHandler()})),this.listItemsRef.current.scrollTop=this.listItemsRef.current.scrollHeight,[2]}}))}))},m.prototype.doneSpeakingHandler=function(){var e=this;this.state.continueConversation&&("audio/mpeg"===this.state.lexResponse.contentType?t.play(this.state.lexResponse.audioStream,(function(){"ReadyForFulfillment"!==e.state.lexResponse.dialogState&&"Fulfilled"!==e.state.lexResponse.dialogState&&"Failed"!==e.state.lexResponse.dialogState&&e.props.conversationModeOn?e.setState({currentVoiceState:h.LISTENING,micText:h.LISTENING.ICON,micButtonDisabled:!1},(function(){t.startRecording(e.onSilenceHandler,null,e.props.voiceConfig.silenceDetectionConfig)})):e.setState({inputDisabled:!1,currentVoiceState:h.INITIAL,micText:h.INITIAL.ICON,micButtonDisabled:!1,continueConversation:!1})})):this.setState({inputDisabled:!1,currentVoiceState:h.INITIAL,micText:h.INITIAL.ICON,micButtonDisabled:!1,continueConversation:!1}))},m.prototype.reset=function(){this.setState({inputText:"",currentVoiceState:h.INITIAL,inputDisabled:!1,micText:h.INITIAL.ICON,continueConversation:!1,micButtonDisabled:!1},(function(){t.clear()}))},m.prototype.listItems=function(){return this.state.dialog.map((function(e,t){return"me"===e.from?o.createElement("div",{key:t,style:d.itemMe},e.message):(e.from,o.createElement("div",{key:t,style:d.itemBot},e.message))}))},m.prototype.submit=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return l(this,(function(o){switch(o.label){case 0:return e.preventDefault(),this.state.inputText?[4,new Promise((function(e){return n.setState({dialog:p(n.state.dialog,[{message:n.state.inputText,from:"me"}])},e)}))]:[2];case 1:if(o.sent(),!s.a||"function"!==typeof s.a.send)throw new Error("No Interactions module found, please ensure @aws-amplify/interactions is imported");return[4,s.a.send(this.props.botName,this.state.inputText)];case 2:return t=o.sent(),this.setState({dialog:p(this.state.dialog,[t&&{from:"bot",message:t.message}]),inputText:""}),this.listItemsRef.current.scrollTop=this.listItemsRef.current.scrollHeight,[2]}}))}))},m.prototype.changeInputText=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.setState({inputText:e.target.value})];case 1:return t.sent(),[2]}}))}))},m.prototype.getOnComplete=function(e){var t=this;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=t.props.clearOnComplete,i=e.apply(void 0,n);t.setState({dialog:p(!r&&t.state.dialog,[i&&{from:"bot",message:i}]).filter(Boolean)},(function(){t.listItemsRef.current.scrollTop=t.listItemsRef.current.scrollHeight}))}},m.prototype.componentDidMount=function(){var e=this.props,t=e.onComplete,n=e.botName;if(t&&n){if(!s.a||"function"!==typeof s.a.onComplete)throw new Error("No Interactions module found, please ensure @aws-amplify/interactions is imported");s.a.onComplete(n,this.getOnComplete(t,this))}},m.prototype.componentDidUpdate=function(e){var t=this.props,n=t.onComplete,o=t.botName;if(o&&this.props.onComplete!==e.onComplete){if(!s.a||"function"!==typeof s.a.onComplete)throw new Error("No Interactions module found, please ensure @aws-amplify/interactions is imported");s.a.onComplete(o,this.getOnComplete(n,this))}},m.prototype.render=function(){var e=this.props,t=e.title,n=e.theme;e.onComplete;return o.createElement(r.a,{theme:n},t&&o.createElement(r.d,{theme:n},a.g.get(t)),o.createElement(r.b,{theme:n},o.createElement("div",{ref:this.listItemsRef,style:d.list},this.listItems())),o.createElement(r.c,{theme:n},o.createElement(v,{micText:this.state.micText,voiceEnabled:this.props.voiceEnabled,textEnabled:this.props.textEnabled,styles:d,onChange:this.changeInputText,inputText:this.state.inputText,onSubmit:this.submit,inputDisabled:this.state.inputDisabled,micButtonDisabled:this.state.micButtonDisabled,handleMicButton:this.micButtonHandler,currentVoiceState:this.state.currentVoiceState})))},m}(o.Component);function m(e){var t=e.styles,n=e.onChange,r=e.inputText,i=e.inputDisabled,s=e.currentVoiceState;return o.createElement("input",{style:t.textInput,type:"text",placeholder:a.g.get(s.MESSAGE),onChange:n,value:r,disabled:i})}function g(e){var t=e.voiceEnabled,n=e.styles,r=e.micButtonDisabled,i=e.handleMicButton,a=e.micText;return t?o.createElement("button",{style:n.mic,disabled:r,onClick:i},a):null}function y(e){var t=e.textEnabled,n=e.styles,r=e.inputDisabled;return t?o.createElement("button",{type:"submit",style:n.button,disabled:r},a.g.get("Send")):null}function v(e){var t=e.voiceEnabled,n=e.textEnabled,r=e.styles,i=e.onChange,a=e.inputDisabled,s=e.micButtonDisabled,c=e.inputText,u=e.onSubmit,l=e.handleMicButton,p=e.micText,d=e.currentVoiceState;return t&&!n&&(a=!0),t||n?o.createElement("form",{onSubmit:u},o.createElement(m,{onSubmit:u,styles:r,type:"text",currentVoiceState:d,onChange:i,inputText:c,inputDisabled:a}),o.createElement(y,{onSubmit:u,type:"submit",styles:r,inputDisabled:a,textEnabled:n}),o.createElement(g,{styles:r,micButtonDisabled:s,handleMicButton:l,micText:p,voiceEnabled:t})):o.createElement("div",null,"No Chatbot inputs enabled. Set at least one of voiceEnabled or textEnabled in the props."," ")}f.defaultProps={title:"",botName:"",onComplete:void 0,clearOnComplete:!1,voiceConfig:{silenceDetectionConfig:{time:2e3,amplitude:.2}},conversationModeOn:!1,voiceEnabled:!1,textEnabled:!0}}).call(this,n(36))},651:function(e,t,n){"use strict";var o=n(1),r={de:{"Sign In":"Anmelden","Sign Up":"Registrieren","Sign Out":"Abmelden","Sign in to your account":"Melden Sie sich mit Ihrem Account an",Username:"Benutzername",Password:"Passwort","Enter your username":"Geben Sie Ihren Benutzernamen ein","Enter your password":"Geben Sie Ihr Passwort ein","No account? ":"Kein Account? ","Forget your password? ":"Passwort vergessen? ","Reset password":"Passwort zur\xfccksetzen","User does not exist":"Dieser Benutzer existiert nicht","User already exists":"Dieser Benutzer existiert bereits","Incorrect username or password":"Falscher Benutzername oder falsches Passwort","Invalid password format":"Ung\xfcltiges Passwort-Format","Create account":"Hier registrieren","Forgot Password":"Passwort vergessen","Change Password":"Passwort \xe4ndern","New Password":"Neues Passwort",Email:"Email","Phone Number":"Telefonnummer","Confirm a Code":"Code best\xe4tigen","Confirm Sign In":"Anmeldung best\xe4tigen","Confirm Sign Up":"Registrierung best\xe4tigen","Back to Sign In":"Zur\xfcck zur Anmeldung","Send Code":"Code senden",Confirm:"Best\xe4tigen","Resend Code":"Code erneut senden",Submit:"Abschicken",Skip:"\xdcberspringen",Verify:"Verifizieren","Verify Contact":"Kontakt verifizieren",Code:"Code","Confirmation Code":"Best\xe4tigungs-Code","Lost your code? ":"Code verloren? ","Account recovery requires verified contact information":"Zur\xfccksetzen des Account ben\xf6tigt einen verifizierten Account","Invalid phone number format":"Ung\xfcltiges Telefonummern-Format.\n            Benutze eine Nummer im Format: +12345678900","Create Account":"Account erstellen","Have an account? ":"Schon registriert? ","Sign in":"Anmelden","Create a new account":"Erstelle einen neuen Account","Reset your password":"Zur\xfccksetzen des Passworts","An account with the given email already exists.":"Ein Account mit dieser Email existiert bereits.","Username cannot be empty":"Benutzername darf nicht leer sein","Password attempts exceeded":"Die maximale Anzahl der fehlerhaften Anmeldeversuche wurde erreicht"},fr:{"Sign In":"Se connecter","Sign Up":"S'inscrire","Sign Out":"D\xe9connexion","Forgot Password":"Mot de passe oubli\xe9",Username:"Nom d'utilisateur",Password:"Mot de passe","Change Password":"Changer le mot de passe","New Password":"nouveau mot de passe",Email:"Email","Phone Number":"Num\xe9ro de t\xe9l\xe9phone","Confirm a Code":"Confirmer un code","Confirm Sign In":"Confirmer la connexion","Confirm Sign Up":"Confirmer l'inscription","Back to Sign In":"Retour \xe0 la connexion","Send Code":"Envoyer le code",Confirm:"Confirmer","Resend a Code":"Renvoyer un code",Submit:"Soumettre",Skip:"Sauter",Verify:"V\xe9rifier","Verify Contact":"V\xe9rifier le contact",Code:"Code","Account recovery requires verified contact information":"La r\xe9cup\xe9ration du compte n\xe9cessite des informations de contact v\xe9rifi\xe9es","User does not exist":"L'utilisateur n'existe pas","User already exists":"L'utilisateur existe d\xe9j\xe0","Incorrect username or password":"identifiant ou mot de passe incorrect","Invalid password format":"format de mot de passe invalide","Invalid phone number format":"Format de num\xe9ro de t\xe9l\xe9phone invalide.\nVeuillez utiliser un format de num\xe9ro de t\xe9l\xe9phone du +12345678900","Sign in to your account":"Connectez-vous \xe0 votre compte","Forget your password? ":"Mot de passe oubli\xe9 ? ","Reset password":"R\xe9initialisez votre mot de passe","No account? ":"Pas de compte ? ","Create account":"Cr\xe9er un compte","Create Account":"Cr\xe9er un compte","Have an account? ":"D\xe9j\xe0 un compte ? ","Sign in":"Se connecter","Create a new account":"Cr\xe9er un nouveau compte","Reset your password":"R\xe9initialisez votre mot de passe","Enter your username":"Saisissez votre nom d'utilisateur","Enter your password":"Saisissez votre mot de passe","An account with the given email already exists.":"Un utilisateur avec cette adresse email existe d\xe9j\xe0.","Username cannot be empty":"Le nom d'utilisateur doit \xeatre renseign\xe9"},es:{"Sign In":"Registrarse","Sign Up":"Reg\xedstrate","Sign Out":"Desconectar","Forgot Password":"Se te olvid\xf3 tu contrase\xf1a",Username:"Nombre de usuario",Password:"Contrase\xf1a","Change Password":"Cambia la contrase\xf1a","New Password":"Nueva contrase\xf1a",Email:"Email","Phone Number":"N\xfamero de tel\xe9fono","Confirm a Code":"Confirmar un c\xf3digo","Confirm Sign In":"Confirmar inicio de sesi\xf3n","Confirm Sign Up":"Confirmar Registrarse","Back to Sign In":"Volver a Iniciar sesi\xf3n","Send Code":"Enviar c\xf3digo",Confirm:"Confirmar","Resend a Code":"Reenviar un c\xf3digo",Submit:"Enviar",Skip:"Omitir",Verify:"Verificar","Verify Contact":"Verificar contacto",Code:"C\xf3digo","Account recovery requires verified contact information":"La recuperaci\xf3n de la cuenta requiere informaci\xf3n de contacto verificada","User does not exist":"el usuario no existe","User already exists":"El usuario ya existe","Incorrect username or password":"Nombre de usuario o contrase\xf1a incorrecta","Invalid password format":"Formato de contrase\xf1a inv\xe1lido","Invalid phone number format":"Formato de n\xfamero de tel\xe9fono inv\xe1lido.\nUtilice el formato de n\xfamero de tel\xe9fono +12345678900"},it:{"Account recovery requires verified contact information":"Ripristino del conto richiede un account verificati","An account with the given email already exists.":"Un account con questa email esiste gi\xe0.","Back to Sign In":"Torna alla Accesso","Change Password":"Cambia la password",Code:"Codice",Confirm:"Conferma","Confirm Sign In":"Conferma di applicazione","Confirm Sign Up":"Registrazione Conferma","Confirm a Code":"Codice Conferma","Confirmation Code":"Codice di verifica","Create Account":"Crea account","Create a new account":"Creare un nuovo account","Create account":"Registrati",Email:"E-mail","Enter your password":"Inserire la password","Enter your username":"Inserisci il tuo nome utente","Forget your password?":"Password dimenticata?","Forgot Password":"Password dimenticata","Have an account? ":"Gi\xe0 registrato?","Incorrect username or password":"Nome utente o password errati","Invalid password format":"Formato della password non valido","Invalid phone number format":"Utilizzo non valido Telefonummern formattare un numero nel formato :. 12.345.678,9 mille","Lost your code?":"Perso codice?","New Password":"Nuova password","No account? ":"Nessun account?",Password:"Password","Password attempts exceeded":"Il numero massimo di tentativi di accesso falliti \xe8 stato raggiunto","Phone Number":"Numero di telefono","Resend Code":"Codice Rispedisci","Reset password":"Ripristina password","Reset your password":"Resetta password","Send Code":"Invia codice","Sign In":"Accesso","Sign Out":"Esci","Sign Up":"Iscriviti","Sign in":"Accesso","Sign in to your account":"Accedi con il tuo account a",Skip:"Salta",Submit:"Sottoscrivi","User already exists":"Questo utente esiste gi\xe0","User does not exist":"Questo utente non esiste",Username:"Nome utente","Username cannot be empty":"Nome utente non pu\xf2 essere vuoto",Verify:"Verifica","Verify Contact":"Contatto verifica"},zh:{"Sign In":"\u767b\u5f55","Sign Up":"\u6ce8\u518c","Sign Out":"\u9000\u51fa","Forgot Password":"\u5fd8\u8bb0\u5bc6\u7801",Username:"\u7528\u6237\u540d",Password:"\u5bc6\u7801","Change Password":"\u6539\u53d8\u5bc6\u7801","New Password":"\u65b0\u5bc6\u7801",Email:"\u90ae\u7bb1","Phone Number":"\u7535\u8bdd","Confirm a Code":"\u786e\u8ba4\u7801","Confirm Sign In":"\u786e\u8ba4\u767b\u5f55","Confirm Sign Up":"\u786e\u8ba4\u6ce8\u518c","Back to Sign In":"\u56de\u5230\u767b\u5f55","Send Code":"\u53d1\u9001\u786e\u8ba4\u7801",Confirm:"\u786e\u8ba4","Resend a Code":"\u91cd\u53d1\u786e\u8ba4\u7801",Submit:"\u63d0\u4ea4",Skip:"\u8df3\u8fc7",Verify:"\u9a8c\u8bc1","Verify Contact":"\u9a8c\u8bc1\u8054\u7cfb\u65b9\u5f0f",Code:"\u786e\u8ba4\u7801","Account recovery requires verified contact information":"\u8d26\u6237\u6062\u590d\u9700\u8981\u9a8c\u8bc1\u8fc7\u7684\u8054\u7cfb\u65b9\u5f0f","User does not exist":"\u7528\u6237\u4e0d\u5b58\u5728","User already exists":"\u7528\u6237\u5df2\u7ecf\u5b58\u5728","Incorrect username or password":"\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef","Invalid password format":"\u5bc6\u7801\u683c\u5f0f\u9519\u8bef","Invalid phone number format":"\u7535\u8bdd\u683c\u5f0f\u9519\u8bef\uff0c\u8bf7\u4f7f\u7528\u683c\u5f0f +12345678900"}},i=n(630),a=n(0),s=n(38),c=(n(659),n(92)),u={container:{},formContainer:{},formSection:{},formField:{},sectionHeader:{},sectionBody:{},sectionFooter:{},sectionFooterPrimaryContent:{},sectionFooterSecondaryContent:{},input:{},button:{},photoPickerButton:{},photoPlaceholder:{},signInButton:{},signInButtonIcon:{},signInButtonContent:{},amazonSignInButton:{},facebookSignInButton:{},googleSignInButton:{},oAuthSignInButton:{},formRow:{},strike:{},strikeContent:{},actionRow:{},a:{},hint:{},radio:{},label:{},inputLabel:{},toast:{},navBar:{},nav:{},navRight:{},navItem:{},navButton:{}},l=function(){return(l=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},p=function(e){var t=e.theme||u,n=K(e,t.container),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.container,style:n}),e.children))},d=function(e){var t=e.theme||u;return V(a.createElement("div",{className:c.formContainer,style:t.formContainer},e.children))},h=function(e){var t=e.theme||u,n=K(e,t.formSection);return a.createElement(d,{theme:t},V(a.createElement("div",{className:c.formSection,style:n},e.children)))},f=function(e){var t=e.theme||u,n=K(e,t.sectionHeader),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.sectionHeader,style:n}),a.createElement(m,{theme:t},e.children,e.hint&&a.createElement("div",{className:c.sectionHeaderHint},e.hint))))},m=function(e){var t=e.theme||u,n=K(e,t.sectionHeaderContent);return V(a.createElement("span",{className:c.sectionHeaderContent,style:n},e.children))},g=function(e){var t=e.theme||u,n=K(e,t.sectionFooter),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.sectionFooter,style:n}),e.children))},y=function(e){var t=e.theme||u,n=K(e,t.sectionFooterPrimaryContent);return V(a.createElement("span",{className:c.sectionFooterPrimaryContent,style:n},e.children))},v=function(e){var t=e.theme||u,n=K(e,t.sectionFooterSecondaryContent);return V(a.createElement("span",{className:c.sectionFooterSecondaryContent,style:n},e.children))},b=function(e){var t=e.theme||u,n=K(e,t.sectionBody),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.sectionBody,style:n}),e.children))},C=function(e){var t=e.theme||u,n=K(e,t.strike);return V(a.createElement("div",{className:c.strike,style:n},a.createElement(w,{theme:t},e.children)))},w=function(e){var t=e.theme||u;return V(a.createElement("span",{className:c.strikeContent,style:t.strikeContent},e.children))},E=function(e){var t=e.theme||u,n=K(e,t.formRow),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.formRow,style:n}),e.children))},S=function(e){var t=e.id||"_"+e.value,n=e.theme||u;return a.createElement(E,{theme:n},a.createElement(_,l({},e,{id:t})),a.createElement(M,{htmlFor:t,theme:n},e.placeholder))},_=function(e){var t=e.theme||u,n=K(e,t.radio),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("input",l({},r,{type:"radio",className:c.radio,style:n})))},k=function(e){var t=e.theme||u,n=K(e,t.input),r=o.j.objectLessAttributes(e,"theme");return a.createElement("input",l({},r,{className:c.input,style:n}))},O=function(e){var t=e.theme||u,n=K(e,t.selectInput);return a.createElement("div",{className:c.selectInput,style:n},e.children)},A=function(e){var t=e.theme||u,n=K(e,t.formField),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.formField,style:n}),e.children))},I=function(e){var t=e.theme||u,n=K(e,t.button),r=e.disabled||!1,i=o.j.objectLessAttributes(e,"theme");return V(a.createElement("button",l({},i,{className:c.button,style:n,disabled:r}),e.children))},P=function(e){var t=e.theme||u,n=K(e,t.photoPickerButton),r=o.j.objectLessAttributes(e,"theme");return a.createElement("button",l({},r,{className:[c.photoPickerButton,c.button].join(" "),style:n}),e.children)},x=function(e){var t=e.theme||u,n=Object.assign({},t.signInButton,t[e.variant]),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("button",l({},r,{className:c.signInButton,style:n}),e.children))},L=function(e){var t=e.theme||u,n=K(e,t.signInButtonIcon),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("span",l({},r,{className:c.signInButtonIcon,style:n}),e.children))},T=function(e){var t=e.theme||u,n=K(e,t.signInButtonContent);return V(a.createElement("span",{className:c.signInButtonContent,style:n},e.children))},N=function(e){var t=e.theme||u,n=K(e,t.a),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("a",l({},r,{className:c.a,style:n}),e.children))},M=function(e){var t=e.theme||u,n=K(e,t.label),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("label",l({},r,{className:c.label,style:n}),e.children))},B=function(e){var t=e.theme||u,n=K(e,t.hint);return V(a.createElement("div",{className:c.hint,style:n},e.children))},U=function(e){var t=e.theme||u,n=K(e,t.inputLabel);return V(a.createElement("div",{className:c.inputLabel,style:n},e.children))},F=function(e){var t=e.theme||u,n=K(e,t.navBar),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.navBar,style:n}),e.children))},j=function(e){var t=e.theme||u,n=K(e,t.nav),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.nav,style:n}),e.children))},D=function(e){var t=e.theme||u,n=K(e,t.navRight),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.navRight,style:n}),e.children))},R=function(e){var t=e.theme||u,n=K(e,t.navItem),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("div",l({},r,{className:c.navItem,style:n}),e.children))},z=function(e){var t=e.theme||u,n=K(e,t.navButton),r=o.j.objectLessAttributes(e,"theme");return V(a.createElement("button",l({},r,{className:c.button,style:n}),V(a.createElement("span",null,e.children))))},H=function(e){var t=e.onClose,n=e.theme||u;return a.createElement("div",l({},e,{theme:n,className:c.toast,style:n.toast}),a.createElement("span",null,e.children),a.createElement("a",{className:c.toastClose,onClick:t}))};H.defaultProps={onClose:function(){}};var G,q=function(e){var t=e.theme||u,n=K(e,t.photoPlaceholder);return a.createElement("div",{className:c.photoPlaceholder,style:n},a.createElement("div",{className:c.photoPlaceholderIcon},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24"},a.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),a.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"}),a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))))},V=function(e){var t=e.props.style||{},n=t.before,o=t.after;return n||o?a.createElement("span",{style:{position:"relative"}},n?a.createElement("span",{style:n},n.content):null,e,o?a.createElement("span",{style:o},o.content):null):e},K=function(e,t){var n=e.id,o=e.style,r=Object.assign({},o,t);if(!n)return r;var i="#"+n;return Object.assign(r,r[i]),r};!function(e){e.EMAIL="email",e.PHONE_NUMBER="phone_number",e.USERNAME="username"}(G||(G={}));var W,Z=["+1","+7","+20","+27","+30","+31","+32","+33","+34","+36","+39","+40","+41","+43","+44","+45","+46","+47","+48","+49","+51","+52","+53","+54","+55","+56","+57","+58","+60","+61","+62","+63","+64","+65","+66","+81","+82","+84","+86","+90","+91","+92","+93","+94","+95","+98","+212","+213","+216","+218","+220","+221","+222","+223","+224","+225","+226","+227","+228","+229","+230","+231","+232","+233","+234","+235","+236","+237","+238","+239","+240","+241","+242","+243","+244","+245","+246","+248","+249","+250","+251","+252","+253","+254","+255","+256","+257","+258","+260","+261","+262","+263","+264","+265","+266","+267","+268","+269","+290","+291","+297","+298","+299","+345","+350","+351","+352","+353","+354","+355","+356","+357","+358","+359","+370","+371","+372","+373","+374","+375","+376","+377","+378","+379","+380","+381","+382","+385","+386","+387","+389","+420","+421","+423","+500","+501","+502","+503","+504","+505","+506","+507","+508","+509","+537","+590","+591","+593","+594","+595","+596","+597","+598","+599","+670","+672","+673","+674","+675","+676","+677","+678","+679","+680","+681","+682","+683","+685","+686","+687","+688","+689","+690","+691","+692","+850","+852","+853","+855","+856","+872","+880","+886","+960","+961","+962","+963","+964","+965","+966","+967","+968","+970","+971","+972","+973","+974","+975","+976","+977","+992","+993","+994","+995","+996","+998"],J="sumerian-scene-container",Y="sumerian-scene",X="sumerian-scene-loading",Q="sumerian-scene-loading-logo",$="sumerian-scene-loading-scene-name",ee="sumerian-scene-loading-bar",te="sumerian-scene-error-text",ne="sumerian-scene-bar",oe="sumerian-scene-actions",re={section:"sign-in-section",headerSection:"sign-in-header-section",bodySection:"sign-in-body-section",footerSection:"sign-in-footer-section",usernameInput:"username-input",passwordInput:"sign-in-password-input",forgotPasswordLink:"sign-in-forgot-password-link",signInButton:"sign-in-sign-in-button",createAccountLink:"sign-in-create-account-link",signInError:"authenticator-error"},ie={button:"sign-out-button",section:"sign-out-section"},ae={section:"sign-up-section",headerSection:"sign-up-header-section",bodySection:"sign-up-body-section",nonPhoneNumberInput:"sign-up-non-phone-number-input",phoneNumberInput:"sign-up-phone-number-input",dialCodeSelect:"sign-up-dial-code-select",footerSection:"sign-up-footer-section",createAccountButton:"sign-up-create-account-button",signInLink:"sign-up-sign-in-link",signUpButton:"sign-up-sign-up-button",signInButton:"sign-up-sign-in-button",confirmButton:"sign-up-confirm-button"},se={section:"verify-contact-section",headerSection:"verify-contact-header-section",bodySection:"verify-contact-body-section",submitButton:"verify-contact-submit-button",verifyButton:"verify-contact-verify-button",skipLink:"verify-contact-skip-link"},ce={component:"totp-setup-component"},ue={section:"require-new-password-section",headerSection:"require-new-password-header-section",footerSection:"require-new-password-footer-section",bodySection:"require-new-password-body-section",newPasswordInput:"require-new-password-new-password-input",backToSignInLink:"require-new-password-back-to-sign-in-link",submitButton:"require-new-password-submit-button"},le={section:"loading-secton"},pe={usernameInput:"username-input",emailInput:"email-input",phoneNumberInput:"phone-number-input",dialCodeSelect:"dial-code-select"},de={navBar:"greetings-nav-bar",nav:"greetings-nav",navRight:"greetings-nav-right"},he={section:"federated-sign-in-section",bodySection:"federated-sign-in-body-section",signInButtons:"federated-sign-in-buttons"},fe={section:"confirm-sign-up-section",headerSection:"confirm-sign-up-header-section",bodySection:"confirm-sign-up-body-section",usernameInput:"confirm-sign-up-username-input",confirmationCodeInput:"confirm-sign-up-confirmation-code-input",resendCodeLink:"confirm-sign-up-resend-code-link",confirmButton:"confirm-sign-up-confirm-button",backToSignInLink:"confirm-sign-up-back-to-sign-in-link"},me={section:"confirm-sign-in-section",headerSection:"confirm-sign-in-header-section",bodySection:"confirm-sign-in-body-section",codeInput:"confirm-sign-in-code-input",confirmButton:"confirm-sign-in-confirm-button",backToSignInLink:"confirm-sign-in-back-to-sign-in-link"},ge={section:"forgot-password-section",headerSection:"forgot-password-header-section",bodySection:"forgot-password-body-section",submitButton:"forgot-password-submit-button",sendCodeButton:"forgot-password-send-code-button",resendCodeLink:"forgot-password-resend-code-link",backToSignInLink:"forgot-password-back-to-sign-in-link",usernameInput:"username-input",codeInput:"forgot-password-code-input",newPasswordInput:"forgot-password-new-password-input"},ye=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ve=function(e){function t(t){var n=e.call(this,t)||this;return n.handleInputChange=n.handleInputChange.bind(n),n.composePhoneNumber=n.composePhoneNumber.bind(n),n.inputs={dial_code:n.props.defaultDialCode||"+1",phone_line_number:""},n}return ye(t,e),t.prototype.composePhoneNumber=function(e,t){return""+(e||"+1")+t.replace(/[-()]/g,"")},t.prototype.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;this.inputs[n]=o,this.props.onChangeText&&this.props.onChangeText(this.composePhoneNumber(this.inputs.dial_code,this.inputs.phone_line_number))},t.prototype.render=function(){var e=this.props,t=e.theme,n=void 0===t?u:t,r=e.required,i=void 0===r||r,s=e.defaultDialCode,c=void 0===s?"+1":s,l=e.label,p=void 0===l?"Phone Number":l,d=e.placeholder,h=void 0===d?"Enter your phone number":d;return a.createElement(A,{theme:n,key:"phone_number"},i?a.createElement(U,{theme:n},o.g.get(p)," *"):a.createElement(U,{theme:n},o.g.get(p)),a.createElement(O,{theme:n},a.createElement("select",{name:"dial_code",defaultValue:c,onChange:this.handleInputChange,"data-test":pe.dialCodeSelect},Z.map((function(e){return a.createElement("option",{key:e,value:e},e)}))),a.createElement(k,{placeholder:o.g.get(h),theme:n,type:"tel",id:"phone_line_number",key:"phone_line_number",name:"phone_line_number",onChange:this.handleInputChange,"data-test":pe.phoneNumberInput})))},t}(a.Component),be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ce=((W={})[G.EMAIL]="Email",W[G.PHONE_NUMBER]="Phone Number",W[G.USERNAME]="Username",W),we=function(e){function t(t){var n=e.call(this,t)||this;return n.inputs={},n._isHidden=!0,n._validAuthStates=[],n.phone_number="",n.changeState=n.changeState.bind(n),n.error=n.error.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.renderUsernameField=n.renderUsernameField.bind(n),n.getUsernameFromInput=n.getUsernameFromInput.bind(n),n.onPhoneNumberChanged=n.onPhoneNumberChanged.bind(n),n}return be(t,e),t.prototype.componentDidMount=function(){if(window&&window.location&&window.location.search&&(!this.props.authData||!this.props.authData.username)){var e=new URLSearchParams(window.location.search),t=e?e.get("username"):void 0;this.setState({username:t})}},t.prototype.getUsernameFromInput=function(){var e=this.props.usernameAttributes;switch(void 0===e?"username":e){case G.EMAIL:return this.inputs.email;case G.PHONE_NUMBER:return this.phone_number;default:return this.inputs.username||this.state.username}},t.prototype.onPhoneNumberChanged=function(e){this.phone_number=e},t.prototype.renderUsernameField=function(e){var t=this.props.usernameAttributes,n=void 0===t?[]:t;return n===G.EMAIL?a.createElement(A,{theme:e},a.createElement(U,{theme:e},o.g.get("Email")," *"),a.createElement(k,{autoFocus:!0,placeholder:o.g.get("Enter your email"),theme:e,key:"email",name:"email",type:"email",onChange:this.handleInputChange,"data-test":pe.emailInput})):n===G.PHONE_NUMBER?a.createElement(ve,{theme:e,onChangeText:this.onPhoneNumberChanged}):a.createElement(A,{theme:e},a.createElement(U,{theme:e},o.g.get(this.getUsernameLabel())," *"),a.createElement(k,{defaultValue:this.state.username,autoFocus:!0,placeholder:o.g.get("Enter your username"),theme:e,key:"username",name:"username",onChange:this.handleInputChange,"data-test":pe.usernameInput}))},t.prototype.getUsernameLabel=function(){var e=this.props.usernameAttributes,t=void 0===e?G.USERNAME:e;return Ce[t]||t},t.prototype.usernameFromAuthData=function(){var e=this.props.authData;if(!e)return"";return"object"===typeof e?e.user?e.user.username:e.username:e},t.prototype.errorMessage=function(e){return"string"===typeof e?e:e.message?e.message:JSON.stringify(e)},t.prototype.triggerAuthEvent=function(e){var t=this.props.authState;this.props.onAuthEvent&&this.props.onAuthEvent(t,e)},t.prototype.changeState=function(e,t){this.props.onStateChange&&this.props.onStateChange(e,t),this.triggerAuthEvent({type:"stateChange",data:e})},t.prototype.error=function(e){this.triggerAuthEvent({type:"error",data:this.errorMessage(e)})},t.prototype.handleInputChange=function(e){this.inputs=this.inputs||{};var t=e.target,n=t.name,o=t.value,r=t.type,i=t.checked,a=["radio","checkbox"].includes(r);this.inputs[n]=a?i:o,this.inputs.checkedValue=a?o:null},t.prototype.render=function(){if(!this._validAuthStates.includes(this.props.authState))return this._isHidden=!0,this.inputs={},null;if(this._isHidden){this.inputs={};var e=this.props.track;e&&e()}return this._isHidden=!1,this.showComponent(this.props.theme||u)},t.prototype.showComponent=function(e){throw"You must implement showComponent(theme) and don't forget to set this._validAuthStates."},t}(a.Component),Ee={AUTH_SOURCE_KEY:"amplify-react-auth-source",AUTH0:"auth0",GOOGLE:"google",FACEBOOK:"facebook",AMAZON:"amazon",REDIRECTED_FROM_HOSTED_UI:"amplify-redirected-from-hosted-ui"},Se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_e=new o.c("SignOut"),ke=function(e){function t(t){var n=e.call(this,t)||this;return n.signOut=n.signOut.bind(n),n.onHubCapsule=n.onHubCapsule.bind(n),o.f.listen("auth",n.onHubCapsule),n.state={},n}return Se(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this.findState()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.findState=function(){var e=this;this.props.authState||this.props.authData?this.props.stateFromStorage&&this.setState({stateFromStorage:!0}):s.a.currentAuthenticatedUser().then((function(t){e.setState({authState:"signedIn",authData:t,stateFromStorage:!0})})).catch((function(e){return _e.error(e)}))},t.prototype.onHubCapsule=function(e){if(this._isMounted){var t=e.channel,n=e.payload;e.source;"auth"===t&&"signIn"===n.event?this.setState({authState:"signedIn",authData:n.data}):"auth"!==t||"signOut"!==n.event||this.props.authState||this.setState({authState:"signIn"}),"auth"!==t||"signIn"!==n.event||this.props.authState||this.setState({stateFromStorage:!0})}},t.prototype.signOut=function(){var e=this,t={};try{t=JSON.parse(localStorage.getItem(Ee.AUTH_SOURCE_KEY))||{},localStorage.removeItem(Ee.AUTH_SOURCE_KEY)}catch(c){_e.debug("Failed to parse the info from "+Ee.AUTH_SOURCE_KEY+" from localStorage with "+c)}_e.debug("sign out from the source",t);var n=this.props,o=n.googleSignOut,r=n.facebookSignOut,i=n.amazonSignOut,a=n.auth0SignOut;switch(t.provider){case Ee.GOOGLE:o?o():_e.debug("No Google signout method provided");break;case Ee.FACEBOOK:r?r():_e.debug("No Facebook signout method provided");break;case Ee.AMAZON:i?i():_e.debug("No Amazon signout method provided");break;case Ee.AUTH0:a?a(t.opts):_e.debug("No Auth0 signout method provided")}if(!s.a||"function"!==typeof s.a.signOut)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.signOut().then((function(){e.state.stateFromStorage||e.changeState("signedOut")})).catch((function(t){_e.debug(t),e.error(t)}))},t.prototype.render=function(){var e=this.props.hide;if(e&&e.includes(t))return null;var n="signedIn"===(this.props.authState||this.state.authState),r=this.props.theme||u;return n?a.createElement(z,{theme:r,onClick:this.signOut,"data-test":ie.button},o.g.get("Sign Out")):null},t}(we),Oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ae=function(){return(Ae=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ie=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},Pe=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},xe=new o.c("withGoogle");function Le(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.initGapi=n.initGapi.bind(n),n.signIn=n.signIn.bind(n),n.signOut=n.signOut.bind(n),n.federatedSignIn=n.federatedSignIn.bind(n),n.state={},n}return Oe(n,t),n.prototype.signIn=function(){var e=this,t=window.gapi.auth2.getAuthInstance(),n=this.props.onError;t.signIn().then((function(t){e.federatedSignIn(t);var n={provider:Ee.GOOGLE};try{localStorage.setItem(Ee.AUTH_SOURCE_KEY,JSON.stringify(n))}catch(o){xe.debug("Failed to cache auth source into localStorage",o)}}),(function(e){if(!n)throw e;n(e)}))},n.prototype.federatedSignIn=function(e){return Ie(this,void 0,void 0,(function(){var t,n,o,r,i,a;return Pe(this,(function(c){switch(c.label){case 0:if(t=e.getAuthResponse(),n=t.id_token,o=t.expires_at,r=e.getBasicProfile(),i={email:r.getEmail(),name:r.getName(),picture:r.getImageUrl()},a=this.props.onStateChange,!s.a||"function"!==typeof s.a.federatedSignIn||"function"!==typeof s.a.currentAuthenticatedUser)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");return[4,s.a.federatedSignIn("google",{token:n,expires_at:o},i)];case 1:return c.sent(),[4,s.a.currentAuthenticatedUser()];case 2:return i=c.sent(),a&&a("signedIn",i),[2]}}))}))},n.prototype.signOut=function(){var e=window.gapi&&window.gapi.auth2?window.gapi.auth2.getAuthInstance():null;if(!e)return Promise.resolve();e.then((function(e){return e?(xe.debug("google signing out"),e.signOut()):(xe.debug("google Auth undefined"),Promise.resolve())}))},n.prototype.componentDidMount=function(){var e=this.props.google_client_id,t=window.gapi&&window.gapi.auth2?window.gapi.auth2.getAuthInstance():null;e&&!t&&this.createScript()},n.prototype.createScript=function(){var e=document.createElement("script");e.src="https://apis.google.com/js/platform.js",e.async=!0,e.onload=this.initGapi,document.body.appendChild(e)},n.prototype.initGapi=function(){xe.debug("init gapi");var e=this.props.google_client_id,t=window.gapi;t.load("auth2",(function(){t.auth2.init({client_id:e,scope:"profile email openid"})}))},n.prototype.render=function(){var t=window.gapi&&window.gapi.auth2?window.gapi.auth2.getAuthInstance():null;return a.createElement(e,Ae({},this.props,{ga:t,googleSignIn:this.signIn,googleSignOut:this.signOut}))},n}(a.Component)}var Te=Le((function(e){return a.createElement(x,{id:c.googleSignInButton,onClick:e.googleSignIn,theme:e.theme||u,variant:"googleSignInButton"},a.createElement(L,{theme:e.theme||u},a.createElement("svg",{viewBox:"0 0 256 262",xmlns:"http://ww0w.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},a.createElement("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),a.createElement("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),a.createElement("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),a.createElement("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"}))),a.createElement(T,{theme:e.theme||u},o.g.get("Sign In with Google")))})),Ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Me=function(){return(Me=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Be=new o.c("withFacebook");function Ue(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.fbAsyncInit=n.fbAsyncInit.bind(n),n.initFB=n.initFB.bind(n),n.signIn=n.signIn.bind(n),n.signOut=n.signOut.bind(n),n.federatedSignIn=n.federatedSignIn.bind(n),n.state={},n}return Ne(n,t),n.prototype.signIn=function(){var e=this,t=window.FB;t.getLoginStatus((function(n){var o={provider:Ee.FACEBOOK};try{localStorage.setItem(Ee.AUTH_SOURCE_KEY,JSON.stringify(o))}catch(r){Be.debug("Failed to cache auth source into localStorage",r)}"connected"===n.status?e.federatedSignIn(n.authResponse):t.login((function(t){t&&t.authResponse&&e.federatedSignIn(t.authResponse)}),{scope:"public_profile,email"})}))},n.prototype.federatedSignIn=function(e){Be.debug(e);var t=this.props.onStateChange,n=e.accessToken,o=1e3*e.expiresIn+(new Date).getTime();n&&window.FB.api("/me",{fields:"name,email"},(function(e){var r={name:e.name,email:e.email};if(!s.a||"function"!==typeof s.a.federatedSignIn||"function"!==typeof s.a.currentAuthenticatedUser)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.federatedSignIn("facebook",{token:n,expires_at:o},r).then((function(e){return s.a.currentAuthenticatedUser()})).then((function(e){t&&t("signedIn",e)}))}))},n.prototype.signOut=function(){var e=window.FB;if(!e)return Be.debug("FB sdk undefined"),Promise.resolve();e.getLoginStatus((function(t){return"connected"===t.status?new Promise((function(t,n){Be.debug("facebook signing out"),e.logout((function(e){t(e)}))})):Promise.resolve()}))},n.prototype.componentDidMount=function(){this.props.facebook_app_id&&!window.FB&&this.createScript()},n.prototype.fbAsyncInit=function(){Be.debug("init FB");var e=this.props.facebook_app_id,t=window.FB;t.init({appId:e,cookie:!0,xfbml:!0,version:"v2.11"}),t.getLoginStatus((function(e){return Be.debug(e)}))},n.prototype.initFB=function(){window.FB;Be.debug("FB inited")},n.prototype.createScript=function(){window.fbAsyncInit=this.fbAsyncInit;var e=document.createElement("script");e.src="https://connect.facebook.net/en_US/sdk.js",e.async=!0,e.onload=this.initFB,document.body.appendChild(e)},n.prototype.render=function(){var t=window.FB;return a.createElement(e,Me({},this.props,{fb:t,facebookSignIn:this.signIn,facebookSignOut:this.signOut}))},n}(a.Component)}var Fe=Ue((function(e){return a.createElement(x,{id:c.facebookSignInButton,onClick:e.facebookSignIn,theme:e.theme||u,variant:"facebookSignInButton"},a.createElement(L,{theme:e.theme||u},a.createElement("svg",{viewBox:"0 0 279 538",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"Page-1",fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"Artboard",fill:"#FFF"},a.createElement("path",{d:"M82.3409742,538 L82.3409742,292.936652 L0,292.936652 L0,196.990154 L82.2410458,196.990154 L82.2410458,126.4295 C82.2410458,44.575144 132.205229,0 205.252865,0 C240.227794,0 270.306232,2.59855099 279,3.79788222 L279,89.2502322 L228.536175,89.2502322 C188.964542,89.2502322 181.270057,108.139699 181.270057,135.824262 L181.270057,196.89021 L276.202006,196.89021 L263.810888,292.836708 L181.16913,292.836708 L181.16913,538 L82.3409742,538 Z",id:"Fill-1"}))))),a.createElement(T,{theme:e.theme||u},o.g.get("Sign In with Facebook")))})),je=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),De=function(){return(De=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Re=new o.c("withAmazon");function ze(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.initAmazon=n.initAmazon.bind(n),n.signIn=n.signIn.bind(n),n.signOut=n.signOut.bind(n),n.federatedSignIn=n.federatedSignIn.bind(n),n.state={},n}return je(n,t),n.prototype.signIn=function(){var e=this;window.amazon.Login.authorize({scope:"profile"},(function(t){if(t.error)Re.debug("Failed to login with amazon: "+t.error);else{var n={provider:Ee.AMAZON};try{localStorage.setItem(Ee.AUTH_SOURCE_KEY,JSON.stringify(n))}catch(o){Re.debug("Failed to cache auth source into localStorage",o)}e.federatedSignIn(t)}}))},n.prototype.federatedSignIn=function(e){var t=e.access_token,n=e.expires_in,o=this.props.onStateChange,r=1e3*n+(new Date).getTime();t&&window.amazon.Login.retrieveProfile((function(e){if(e.success){var n={name:e.profile.Name,email:e.profile.PrimaryEmail};if(!s.a||"function"!==typeof s.a.federatedSignIn||"function"!==typeof s.a.currentAuthenticatedUser)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.federatedSignIn("amazon",{token:t,expires_at:r},n).then((function(e){return s.a.currentAuthenticatedUser()})).then((function(e){o&&o("signedIn",e)}))}else Re.debug("Get user Info failed")}))},n.prototype.signOut=function(){var e=window.amazon;if(!e)return Re.debug("Amazon Login sdk undefined"),Promise.resolve();Re.debug("Amazon signing out"),e.Login.logout()},n.prototype.componentDidMount=function(){this.props.amazon_client_id&&!window.amazon&&this.createScript()},n.prototype.createScript=function(){var e=document.createElement("script");e.src="https://api-cdn.amazon.com/sdk/login1.js",e.async=!0,e.onload=this.initAmazon,document.body.appendChild(e)},n.prototype.initAmazon=function(){Re.debug("init amazon");var e=this.props.amazon_client_id;window.amazon.Login.setClientId(e)},n.prototype.render=function(){var t=window.amazon;return a.createElement(e,De({},this.props,{amz:t,amazonSignIn:this.signIn,amazonSignOut:this.signOut}))},n}(a.Component)}var He=ze((function(e){return a.createElement(x,{id:c.amazonSignInButton,onClick:e.amazonSignIn,theme:e.theme||u,variant:"amazonSignInButton"},a.createElement(L,{theme:e.theme||u},a.createElement("svg",{viewBox:"0 0 248 268",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"Artboard-Copy-2",fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M139.056521,147.024612 C133.548808,156.744524 124.782731,162.726926 115.087401,162.726926 C101.790721,162.726926 93.9937779,152.612964 93.9937779,137.68681 C93.9937779,108.224571 120.447551,102.879017 145.533369,102.879017 L145.533369,110.365976 C145.533369,123.831358 145.876354,135.063787 139.056521,147.024612 M207.206992,162.579655 C209.400505,165.692256 209.887066,169.437725 207.063416,171.770186 C199.996315,177.653081 187.429476,188.590967 180.513926,194.716661 L180.46208,194.621133 C178.176838,196.663031 174.862638,196.810303 172.27828,195.445057 C160.780281,185.9162 158.686473,181.494078 152.405048,172.403055 C133.405233,191.751331 119.909143,197.534719 95.309886,197.534719 C66.1281801,197.534719 43.4791563,179.599451 43.4791563,143.669212 C43.4791563,115.616003 58.6782107,96.5105248 80.4019706,87.1727225 C99.2063636,78.9096034 125.464714,77.4528107 145.533369,75.1641337 L145.533369,70.694248 C145.533369,62.4749122 146.167493,52.7510201 141.297893,45.6541312 C137.110277,39.2856386 129.018206,36.6586354 121.859376,36.6586354 C108.658413,36.6586354 96.9171331,43.4171982 94.0416364,57.4199213 C93.4593582,60.532522 91.1701278,63.5933787 88.003492,63.7406501 L54.4387473,60.1424518 C51.6150972,59.5095829 48.4484614,57.2248862 49.2740201,52.8982915 C56.9712583,12.2553679 93.7983558,0 126.732964,0 C143.587124,0 165.606011,4.47386604 178.902691,17.2148315 C195.760839,32.917146 194.149604,53.8694866 194.149604,76.6726704 L194.149604,130.542157 C194.149604,146.734049 200.87372,153.830938 207.206992,162.579655 Z M233.826346,208.038962 C230.467669,203.683255 211.550709,205.9821 203.056405,206.998432 C200.470662,207.321077 200.076227,205.042397 202.406981,203.404973 C217.475208,192.664928 242.201125,195.766353 245.081698,199.363845 C247.966255,202.981502 244.336653,228.071183 230.172839,240.049379 C228.001452,241.888455 225.929671,240.904388 226.89783,238.468418 C230.077218,230.430525 237.204944,212.418868 233.826346,208.038962 Z M126.768855,264 C74.0234043,264 42.0764048,241.955028 17.7852554,217.541992 C12.9733903,212.705982 6.71799208,206.295994 3.31151296,200.690918 C1.90227474,198.372135 5.59096074,195.021875 8.0442063,196.84375 C38.2390146,219.267578 82.1011654,239.538304 125.529506,239.538304 C154.819967,239.538304 191.046475,227.469543 220.66851,214.867659 C225.146771,212.966167 225.146771,219.180222 224.511585,221.060516 C224.183264,222.03242 209.514625,236.221149 189.247207,247.047411 C170.304273,257.166172 146.397132,264 126.768855,264 Z",id:"Fill-6",fill:"#FFF"})))),a.createElement(T,{theme:e.theme||u},o.g.get("Sign In with Amazon")))})),Ge=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qe=function(){return(qe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Ve(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.signIn=n.signIn.bind(n),n}return Ge(n,t),n.prototype.signIn=function(e,t){s.a.federatedSignIn({provider:t})},n.prototype.render=function(){return a.createElement(e,qe({},this.props,{OAuthSignIn:this.signIn}))},n}(a.Component)}var Ke=Ve((function(e){return a.createElement(x,{id:c.oAuthSignInButton,onClick:function(){return e.OAuthSignIn()},theme:e.theme||u,variant:"oAuthSignInButton"},a.createElement(T,{theme:e.theme||u},o.g.get(e.label||"Sign in with AWS")))})),We=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ze=function(){return(Ze=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Je=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},Ye=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Xe=new o.c("withAuth0");function Qe(e,t){return function(n){function o(e){var t=n.call(this,e)||this;return t._auth0=null,t.initialize=t.initialize.bind(t),t.signIn=t.signIn.bind(t),t.signOut=t.signOut.bind(t),t}return We(o,n),o.prototype.componentDidMount=function(){window.auth0?this.initialize():this.createScript()},o.prototype.createScript=function(){var e=document.createElement("script");e.src="https://cdn.auth0.com/js/auth0/9.8.1/auth0.min.js",e.async=!0,e.onload=this.initialize,document.body.appendChild(e)},o.prototype.initialize=function(){var e=this,n=s.a.configure().oauth,o=void 0===n?{}:n,r=this.props.auth0||t||o.auth0,i=this.props,a=i.onError,c=i.onStateChange,u=i.authState;r?(Xe.debug("withAuth0 configuration",r),this._auth0||(this._auth0=new window.auth0.WebAuth(r),window.auth0_client=this._auth0),"signedIn"!==u&&this._auth0.parseHash((function(t,n){if(!t&&n){var o={provider:Ee.AUTH0,opts:{returnTo:r.returnTo,clientID:r.clientID,federated:r.federated}};try{localStorage.setItem(Ee.AUTH_SOURCE_KEY,JSON.stringify(o))}catch(i){Xe.debug("Failed to cache auth source into localStorage",i)}e._auth0.client.userInfo(n.accessToken,(function(e,t){var o=void 0,i=void 0;e?Xe.debug("Failed to get the user info",e):(o=t.name,i=t.email),s.a.federatedSignIn(r.domain,{token:n.idToken,expires_at:1e3*n.expiresIn+(new Date).getTime()},{name:o,email:i}).then((function(){c&&s.a.currentAuthenticatedUser().then((function(e){c("signedIn",e)}))})).catch((function(e){Xe.debug("Failed to get the aws credentials",e),a&&a(e)}))}))}else Xe.debug("Failed to parse the url for Auth0",t)}))):Xe.debug("Auth0 is not configured")},o.prototype.signIn=function(){return Je(this,void 0,void 0,(function(){return Ye(this,(function(e){if(!this._auth0)throw new Error("the auth0 client is not configured");return this._auth0.authorize(),[2]}))}))},o.prototype.signOut=function(e){void 0===e&&(e={});var t=window.auth0_client,n=e.returnTo,o=e.clientID,r=e.federated;if(!t)return Xe.debug("auth0 sdk undefined"),Promise.resolve();t.logout({returnTo:n,clientID:o,federated:r})},o.prototype.render=function(){return a.createElement(e,Ze({},this.props,{auth0:this._auth0,auth0SignIn:this.signIn,auth0SignOut:this.signOut}))},o}(a.Component)}var $e=Qe((function(e){return a.createElement(x,{id:c.auth0SignInButton,onClick:e.auth0SignIn,theme:e.theme||u,variant:"auth0SignInButton"},a.createElement(L,{theme:e.theme||u},a.createElement("svg",{id:"artwork",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 193.7 216.6"},a.createElement("path",{id:"NEW",className:"st0",d:"M189,66.9L167.2,0H96.8l21.8,66.9H189z M96.8,0H26.5L4.8,66.9h70.4L96.8,0z M4.8,66.9L4.8,66.9\tc-13,39.9,1.2,83.6,35.2,108.3l21.7-66.9L4.8,66.9z M189,66.9L189,66.9l-57,41.4l21.7,66.9l0,0C187.7,150.6,201.9,106.8,189,66.9\tL189,66.9z M39.9,175.2L39.9,175.2l56.9,41.4l56.9-41.4l-56.9-41.4L39.9,175.2z"}))),a.createElement(T,{theme:e.theme||u},e.label||"Sign In with Auth0"))}));!function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)}}();var et=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),tt=function(){return(tt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},nt=new o.c("Greetings"),ot=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.onHubCapsule=n.onHubCapsule.bind(n),n.inGreeting=n.inGreeting.bind(n),o.f.listen("auth",n.onHubCapsule),n._validAuthStates=["signedIn"],n}return et(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this.findState()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.findState=function(){var e=this;this.props.authState||this.props.authData||s.a.currentAuthenticatedUser().then((function(t){e.setState({authState:"signedIn",authData:t,stateFromStorage:!0})})).catch((function(e){return nt.debug(e)}))},t.prototype.onHubCapsule=function(e){if(this._isMounted){var t=e.channel,n=e.payload;"auth"===t&&"signIn"===n.event?(this.setState({authState:"signedIn",authData:n.data}),this.props.authState||this.setState({stateFromStorage:!0})):"auth"!==t||"signOut"!==n.event||this.props.authState||this.setState({authState:"signIn"})}},t.prototype.inGreeting=function(e){var t=this.props.usernameAttributes;return""+((void 0===t?G.USERNAME:t)===G.USERNAME?o.g.get("Hello")+" ":"")+e},t.prototype.outGreeting=function(){return""},t.prototype.userGreetings=function(e){var t=this.props.authData||this.state.authData,n=this.props.inGreeting||this.inGreeting,o=this.props.usernameAttributes,r="";switch(void 0===o?"username":o){case G.EMAIL:r=t.attributes?t.attributes.email:t.username;break;case G.PHONE_NUMBER:r=t.attributes?t.attributes.phone_number:t.username;break;default:r=(t.attributes?t.attributes.name||(t.attributes.given_name?t.attributes.given_name+" "+t.attributes.family_name:void 0):void 0)||t.name||t.username}var i="function"===typeof n?n(r):n;return a.createElement("span",null,a.createElement(R,{theme:e},i),this.renderSignOutButton())},t.prototype.renderSignOutButton=function(){var e=this.props.federated,t=void 0===e?{}:e,n=t.google_client_id,o=t.facebook_app_id,r=t.amazon_client_id,i=t.auth0,c=s.a.configure(),u=c.oauth,l=void 0===u?{}:u,p=n||c.googleClientId,d=o||c.facebookClientId,h=r||c.amazonClientId,f=i||l.auth0,m=ke;p&&(m=Le(ke)),d&&(m=Ue(ke)),h&&(m=ze(ke)),f&&(m=Qe(ke));var g=Object.assign({},this.props,this.state);return a.createElement(m,tt({},g))},t.prototype.noUserGreetings=function(e){var t=this.props.outGreeting||this.outGreeting,n="function"===typeof t?t():t;return n?a.createElement(R,{theme:e},n):null},t.prototype.render=function(){var e=this.props.hide;if(e&&e.includes(t))return null;var n="signedIn"===(this.props.authState||this.state.authState),o=this.props.theme||u,r=n?this.userGreetings(o):this.noUserGreetings(o);return r?a.createElement(F,{theme:o,"data-test":de.navBar},a.createElement(j,{theme:o,"data-test":de.nav},a.createElement(D,{theme:o,"data-test":de.navRight},r))):null},t}(we),rt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),it=new o.c("FederatedSignIn"),at=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rt(t,e),t.prototype.google=function(e){if(!e)return null;var t=this.props,n=t.theme,o=t.onStateChange;return a.createElement(Te,{google_client_id:e,theme:n,onStateChange:o})},t.prototype.facebook=function(e){if(!e)return null;var t=this.props,n=t.theme,o=t.onStateChange;return a.createElement(Fe,{facebook_app_id:e,theme:n,onStateChange:o})},t.prototype.amazon=function(e){if(!e)return null;var t=this.props,n=t.theme,o=t.onStateChange;return a.createElement(He,{amazon_client_id:e,theme:n,onStateChange:o})},t.prototype.OAuth=function(e){if(!e)return null;var t=this.props,n=t.theme,o=t.onStateChange;return a.createElement(Ke,{label:e?e.label:void 0,theme:n,onStateChange:o})},t.prototype.auth0=function(e){if(!e)return null;var t=this.props,n=t.theme,o=t.onStateChange;return a.createElement($e,{label:e?e.label:void 0,theme:n,onStateChange:o,auth0:e})},t.prototype.render=function(){var e=this.props.authState;if(!["signIn","signedOut","signedUp"].includes(e))return null;var t=this.props.federated||{};if(!s.a||"function"!==typeof s.a.configure)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");var n=s.a.configure().oauth,r=void 0===n?{}:n;if(r.domain?t.oauth_config=Object.assign({},t.oauth_config,r):r.awsCognito&&(t.oauth_config=Object.assign({},t.oauth_config,r.awsCognito)),r.auth0&&(t.auth0=Object.assign({},t.auth0,r.auth0)),o.j.isEmpty(t))return null;var i=t.google_client_id,c=t.facebook_app_id,l=t.amazon_client_id,p=t.oauth_config,d=t.auth0,h=this.props.theme||u;return a.createElement("div",null,a.createElement("div",null,this.google(i)),a.createElement("div",null,this.facebook(c)),a.createElement("div",null,this.amazon(l)),a.createElement("div",null,this.OAuth(p)),a.createElement("div",null,this.auth0(d)),a.createElement(C,{theme:h},o.g.get("or")))},t}(a.Component),st=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}rt(t,e),t.prototype.render=function(){var e=this.props,t=e.authState,n=e.onStateChange,o=this.props.federated||{};if(!s.a||"function"!==typeof s.a.configure)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");var r=s.a.configure().oauth,i=void 0===r?{}:r;if(i.domain?o.oauth_config=Object.assign({},o.oauth_config,i):i.awsCognito&&(o.oauth_config=Object.assign({},o.oauth_config,i.awsCognito)),i.auth0&&(o.auth0=Object.assign({},o.auth0,i.auth0)),!o)return it.debug("federated prop is empty. show nothing"),it.debug("federated={google_client_id: , facebook_app_id: , amazon_client_id}"),null;if(!["signIn","signedOut","signedUp"].includes(t))return null;it.debug("federated Config is",o);var c=this.props.theme||u;return a.createElement(h,{theme:c,"data-test":he.section},a.createElement(b,{theme:c,"data-test":he.bodySection},a.createElement(at,{federated:o,theme:c,authState:t,onStateChange:n,"data-test":he.signInButtons})))}}(a.Component),[{label:"Username",key:"username",required:!0,placeholder:"Username",displayOrder:1},{label:"Password",key:"password",required:!0,placeholder:"Password",type:"password",displayOrder:2},{label:"Email",key:"email",required:!0,placeholder:"Email",type:"email",displayOrder:3},{label:"Phone Number",key:"phone_number",placeholder:"Phone Number",required:!0,displayOrder:4}]),ct=[{label:"Email",key:"email",required:!0,placeholder:"Email",type:"email",displayOrder:1},{label:"Password",key:"password",required:!0,placeholder:"Password",type:"password",displayOrder:2},{label:"Phone Number",key:"phone_number",placeholder:"Phone Number",required:!0,displayOrder:3}],ut=[{label:"Phone Number",key:"phone_number",placeholder:"Phone Number",required:!0,displayOrder:1},{label:"Password",key:"password",required:!0,placeholder:"Password",type:"password",displayOrder:2},{label:"Email",key:"email",required:!0,placeholder:"Email",type:"email",displayOrder:3}],lt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pt=new o.c("SignUp"),dt=function(e){function t(t){var n=e.call(this,t)||this;n.state={requestPending:!1},n._validAuthStates=["signUp"],n.signUp=n.signUp.bind(n),n.sortFields=n.sortFields.bind(n),n.getDefaultDialCode=n.getDefaultDialCode.bind(n),n.checkCustomSignUpFields=n.checkCustomSignUpFields.bind(n),n.needPrefix=n.needPrefix.bind(n),n.header=n.props&&n.props.signUpConfig&&n.props.signUpConfig.header?n.props.signUpConfig.header:"Create a new account";var o=(n.props||{}).usernameAttributes,r=void 0===o?G.USERNAME:o;return r===G.EMAIL?n.defaultSignUpFields=ct:r===G.PHONE_NUMBER?n.defaultSignUpFields=ut:n.defaultSignUpFields=st,n}return lt(t,e),t.prototype.validate=function(){var e=this,t=[];return this.signUpFields.map((function(n){"phone_number"!==n.key?n.required&&!e.inputs[n.key]?(n.invalid=!0,t.push(n.label)):n.invalid=!1:n.required&&!e.phone_number?(n.invalid=!0,t.push(n.label)):n.invalid=!1})),t},t.prototype.sortFields=function(){var e=this;this.props.signUpConfig&&this.props.signUpConfig.hiddenDefaults&&this.props.signUpConfig.hiddenDefaults.length>0&&(this.defaultSignUpFields=this.defaultSignUpFields.filter((function(t){return!e.props.signUpConfig.hiddenDefaults.includes(t.key)}))),this.checkCustomSignUpFields()?(this.props.signUpConfig&&this.props.signUpConfig.hideAllDefaults||this.defaultSignUpFields.forEach((function(t){-1===e.signUpFields.findIndex((function(e){return e.key===t.key}))&&e.signUpFields.push(t)})),this.signUpFields.sort((function(e,t){return e.displayOrder&&t.displayOrder?e.displayOrder<t.displayOrder?-1:e.displayOrder>t.displayOrder?1:e.key<t.key?-1:1:!e.displayOrder&&t.displayOrder?1:e.displayOrder&&!t.displayOrder?-1:e.displayOrder||t.displayOrder?void 0:e.key<t.key?-1:1}))):this.signUpFields=this.defaultSignUpFields},t.prototype.needPrefix=function(e){var t=this.signUpFields.find((function(t){return t.key===e}));return 0!==e.indexOf("custom:")?t.custom:(0===e.indexOf("custom:")&&!1===t.custom&&pt.warn("Custom prefix prepended to key but custom field flag is set to false; retaining manually entered prefix"),null)},t.prototype.getDefaultDialCode=function(){return this.props.signUpConfig&&this.props.signUpConfig.defaultCountryCode&&-1!==Z.indexOf("+"+this.props.signUpConfig.defaultCountryCode)?"+"+this.props.signUpConfig.defaultCountryCode:"+1"},t.prototype.checkCustomSignUpFields=function(){return this.props.signUpConfig&&this.props.signUpConfig.signUpFields&&this.props.signUpConfig.signUpFields.length>0},t.prototype.signUp=function(){var e=this;this.setState({requestPending:!0}),this.inputs.dial_code||(this.inputs.dial_code=this.getDefaultDialCode());var t=this.validate();if(t&&t.length>0)return this.setState({requestPending:!1}),this.error("The following fields need to be filled out: "+t.join(", "));if(!s.a||"function"!==typeof s.a.signUp)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");var n={username:this.inputs.username,password:this.inputs.password,attributes:{}},o=Object.keys(this.inputs),r=Object.values(this.inputs);o.forEach((function(t,o){if(!["username","password","checkedValue","dial_code"].includes(t)&&"phone_line_number"!==t&&"dial_code"!==t&&"error"!==t){var i=(e.needPrefix(t)?"custom:":"")+t;n.attributes[i]=r[o]}})),this.phone_number&&(n.attributes.phone_number=this.phone_number);var i=!1;if(this.signUpFields.forEach((function(t){t.label===e.getUsernameLabel()&&(pt.debug("Changing the username to the value of "+t.label),n.username=n.attributes[t.key]||n.username,i=!0)})),!i&&!n.username)throw new Error("Couldn't find the label: "+this.getUsernameLabel()+", in sign up fields according to usernameAttributes!");s.a.signUp(n).then((function(t){e.setState({requestPending:!1}),e.changeState("confirmSignUp",t.user.username)})).catch((function(t){return e.setState({requestPending:!1}),e.error(t)}))},t.prototype.showComponent=function(e){var n=this,r=this.props.hide;return r&&r.includes(t)?null:(this.checkCustomSignUpFields()&&(this.signUpFields=this.props.signUpConfig.signUpFields),this.sortFields(),a.createElement(h,{theme:e,"data-test":ae.section},a.createElement(f,{theme:e,"data-test":ae.headerSection},o.g.get(this.header)),a.createElement(b,{theme:e,"data-test":ae.bodySection},this.signUpFields.map((function(t){return"phone_number"!==t.key?a.createElement(A,{theme:e,key:t.key},t.required?a.createElement(U,{theme:e},o.g.get(t.label)," *"):a.createElement(U,{theme:e},o.g.get(t.label)),a.createElement(k,{autoFocus:0===n.signUpFields.findIndex((function(e){return e.key===t.key})),placeholder:o.g.get(t.placeholder),theme:e,type:t.type,name:t.key,key:t.key,onChange:n.handleInputChange,"data-test":ae.nonPhoneNumberInput})):a.createElement(ve,{theme:e,required:t.required,defaultDialCode:n.getDefaultDialCode(),label:t.label,placeholder:t.placeholder,onChangeText:n.onPhoneNumberChanged,key:"phone_number"})}))),a.createElement(g,{theme:e,"data-test":ae.footerSection},a.createElement(y,{theme:e},a.createElement(I,{disabled:this.state.requestPending,onClick:this.signUp,theme:e,"data-test":ae.createAccountButton},o.g.get("Create Account"))),a.createElement(v,{theme:e},o.g.get("Have an account? "),a.createElement(N,{theme:e,onClick:function(){return n.changeState("signIn")},"data-test":ae.signInLink},o.g.get("Sign in"))))))},t}(we),ht=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ft=new o.c("ForgotPassword"),mt=function(e){function t(t){var n=e.call(this,t)||this;return n.send=n.send.bind(n),n.submit=n.submit.bind(n),n._validAuthStates=["forgotPassword"],n.state={delivery:null},n}return ht(t,e),t.prototype.send=function(){var e=this,t=this.props.authData,n=void 0===t?{}:t,o=this.getUsernameFromInput()||n.username;if(!s.a||"function"!==typeof s.a.forgotPassword)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.forgotPassword(o).then((function(t){ft.debug(t),e.setState({delivery:t.CodeDeliveryDetails})})).catch((function(t){return e.error(t)}))},t.prototype.submit=function(){var e=this,t=this.props.authData,n=void 0===t?{}:t,o=this.inputs,r=o.code,i=o.password,a=this.getUsernameFromInput()||n.username;if(!s.a||"function"!==typeof s.a.forgotPasswordSubmit)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.forgotPasswordSubmit(a,r,i).then((function(t){ft.debug(t),e.changeState("signIn"),e.setState({delivery:null})})).catch((function(t){return e.error(t)}))},t.prototype.sendView=function(){var e=this.props.theme||u;return a.createElement("div",null,this.renderUsernameField(e))},t.prototype.submitView=function(){var e=this.props.theme||u;return a.createElement("div",null,a.createElement(A,{theme:e},a.createElement(U,{theme:e},o.g.get("Code")," *"),a.createElement(k,{placeholder:o.g.get("Code"),theme:e,key:"code",name:"code",autoComplete:"off",onChange:this.handleInputChange})),a.createElement(A,{theme:e},a.createElement(U,{theme:e},o.g.get("New Password")," *"),a.createElement(k,{placeholder:o.g.get("New Password"),theme:e,type:"password",key:"password",name:"password",autoComplete:"off",onChange:this.handleInputChange})))},t.prototype.showComponent=function(e){var n=this,r=this.props,i=(r.authState,r.hide),s=r.authData,c=void 0===s?{}:s;return i&&i.includes(t)?null:a.createElement(h,{theme:e,"data-test":ge.section},a.createElement(f,{theme:e,"data-test":ge.headerSection},o.g.get("Reset your password")),a.createElement(b,{theme:e,"data-test":ge.bodySection},this.state.delivery||c.username?this.submitView():this.sendView()),a.createElement(g,{theme:e},a.createElement(y,{theme:e},this.state.delivery||c.username?a.createElement(I,{theme:e,onClick:this.submit,"data-test":ge.submitButton},o.g.get("Submit")):a.createElement(I,{theme:e,onClick:this.send,"data-test":ge.sendCodeButton},o.g.get("Send Code"))),a.createElement(v,{theme:e},this.state.delivery||c.username?a.createElement(N,{theme:e,onClick:this.send,"data-test":ge.resendCodeLink},o.g.get("Resend Code")):a.createElement(N,{theme:e,onClick:function(){return n.changeState("signIn")},"data-test":ge.backToSignInLink},o.g.get("Back to Sign In")))))},t}(we),gt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yt=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},vt=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},bt=new o.c("SignIn"),Ct=function(e){function t(t){var n=e.call(this,t)||this;return n.checkContact=n.checkContact.bind(n),n.signIn=n.signIn.bind(n),n._validAuthStates=["signIn","signedOut","signedUp"],n.state={},n}return gt(t,e),t.prototype.checkContact=function(e){var t=this;if(!s.a||"function"!==typeof s.a.verifiedContact)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.verifiedContact(e).then((function(n){o.j.isEmpty(n.verified)?(e=Object.assign(e,n),t.changeState("verifyContact",e)):t.changeState("signedIn",e)}))},t.prototype.signIn=function(e){return yt(this,void 0,void 0,(function(){var t,n,o,r;return vt(this,(function(i){switch(i.label){case 0:if(e&&e.preventDefault(),t=this.getUsernameFromInput()||"",n=this.inputs.password,!s.a||"function"!==typeof s.a.signIn)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");this.setState({loading:!0}),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,s.a.signIn(t,n)];case 2:return o=i.sent(),bt.debug(o),"SMS_MFA"===o.challengeName||"SOFTWARE_TOKEN_MFA"===o.challengeName?(bt.debug("confirm user with "+o.challengeName),this.changeState("confirmSignIn",o)):"NEW_PASSWORD_REQUIRED"===o.challengeName?(bt.debug("require new password",o.challengeParam),this.changeState("requireNewPassword",o)):"MFA_SETUP"===o.challengeName?(bt.debug("TOTP setup",o.challengeParam),this.changeState("TOTPSetup",o)):"CUSTOM_CHALLENGE"===o.challengeName&&o.challengeParam&&"true"===o.challengeParam.trigger?(bt.debug("custom challenge",o.challengeParam),this.changeState("customConfirmSignIn",o)):this.checkContact(o),[3,5];case 3:return"UserNotConfirmedException"===(r=i.sent()).code?(bt.debug("the user is not confirmed"),this.changeState("confirmSignUp",{username:t})):"PasswordResetRequiredException"===r.code?(bt.debug("the user requires a new password"),this.changeState("forgotPassword",{username:t})):this.error(r),[3,5];case 4:return this.setState({loading:!1}),[7];case 5:return[2]}}))}))},t.prototype.showComponent=function(e){var n=this,r=this.props,i=r.authState,s=r.hide,c=void 0===s?[]:s,u=r.federated,l=r.onStateChange,p=r.onAuthEvent,d=r.override,m=void 0===d?[]:d;if(c&&c.includes(t))return null;var C=!m.includes("SignUp")&&c.some((function(e){return e===dt})),w=!m.includes("ForgotPassword")&&c.some((function(e){return e===mt}));return a.createElement(h,{theme:e,"data-test":re.section},a.createElement(f,{theme:e,"data-test":re.headerSection},o.g.get("Sign in to your account")),a.createElement(at,{federated:u,theme:e,authState:i,onStateChange:l,onAuthEvent:p}),a.createElement("form",{onSubmit:this.signIn},a.createElement(b,{theme:e},this.renderUsernameField(e),a.createElement(A,{theme:e},a.createElement(U,{theme:e},o.g.get("Password")," *"),a.createElement(k,{placeholder:o.g.get("Enter your password"),theme:e,key:"password",type:"password",name:"password",onChange:this.handleInputChange,"data-test":re.passwordInput}),!w&&a.createElement(B,{theme:e},o.g.get("Forget your password? "),a.createElement(N,{theme:e,onClick:function(){return n.changeState("forgotPassword")},"data-test":re.forgotPasswordLink},o.g.get("Reset password"))))),a.createElement(g,{theme:e,"data-test":re.footerSection},a.createElement(y,{theme:e},a.createElement(I,{theme:e,type:"submit",disabled:this.state.loading,"data-test":re.signInButton},o.g.get("Sign In"))),!C&&a.createElement(v,{theme:e},o.g.get("No account? "),a.createElement(N,{theme:e,onClick:function(){return n.changeState("signUp")},"data-test":re.createAccountLink},o.g.get("Create account"))))))},t}(we),wt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Et=function(e){function t(t){var n=e.call(this,t)||this;return n._validAuthStates=["confirmSignIn"],n.confirm=n.confirm.bind(n),n.checkContact=n.checkContact.bind(n),n.state={mfaType:"SMS"},n}return wt(t,e),t.prototype.checkContact=function(e){var t=this;if(!s.a||"function"!==typeof s.a.verifiedContact)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.verifiedContact(e).then((function(n){if(o.j.isEmpty(n.verified)){var r=Object.assign(e,n);t.changeState("verifyContact",r)}else t.changeState("signedIn",e)}))},t.prototype.confirm=function(e){var t=this;e&&e.preventDefault();var n=this.props.authData,o=this.inputs.code,r="SOFTWARE_TOKEN_MFA"===n.challengeName?"SOFTWARE_TOKEN_MFA":null;if(!s.a||"function"!==typeof s.a.confirmSignIn)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.confirmSignIn(n,o,r).then((function(){t.checkContact(n)})).catch((function(e){return t.error(e)}))},t.prototype.componentDidUpdate=function(){var e=this.props.authData,t=e&&"SOFTWARE_TOKEN_MFA"===e.challengeName?"TOTP":"SMS";this.state.mfaType!==t&&this.setState({mfaType:t})},t.prototype.showComponent=function(e){var n=this,r=this.props.hide;return r&&r.includes(t)?null:a.createElement(h,{theme:e,"data-test":me.section},a.createElement(f,{theme:e,"data-test":me.headerSection},o.g.get("Confirm "+this.state.mfaType+" Code")),a.createElement("form",{onSubmit:this.confirm,"data-test":me.bodySection},a.createElement(b,{theme:e},a.createElement(A,{theme:e},a.createElement(U,{theme:e},o.g.get("Code")," *"),a.createElement(k,{autoFocus:!0,placeholder:o.g.get("Code"),theme:e,key:"code",name:"code",autoComplete:"off",onChange:this.handleInputChange,"data-test":me.codeInput}))),a.createElement(g,{theme:e},a.createElement(y,{theme:e,"data-test":me.confirmButton},a.createElement(I,{theme:e,type:"submit"},o.g.get("Confirm"))),a.createElement(v,{theme:e},a.createElement(N,{theme:e,onClick:function(){return n.changeState("signIn")},"data-test":me.backToSignInLink},o.g.get("Back to Sign In"))))))},t}(we),St=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_t=new o.c("RequireNewPassword"),kt=function(e){function t(t){var n=e.call(this,t)||this;return n._validAuthStates=["requireNewPassword"],n.change=n.change.bind(n),n.checkContact=n.checkContact.bind(n),n}return St(t,e),t.prototype.checkContact=function(e){var t=this;if(!s.a||"function"!==typeof s.a.verifiedContact)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.verifiedContact(e).then((function(n){o.j.isEmpty(n.verified)?(e=Object.assign(e,n),t.changeState("verifyContact",e)):t.changeState("signedIn",e)}))},t.prototype.change=function(){var e=this,t=this.props.authData,n=this.inputs.password,o=t.challengeParam.requiredAttributes,r=function(e,t){var n={};for(var o in e)-1!==t.indexOf(o)&&Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(this.inputs,o);if(!s.a||"function"!==typeof s.a.completeNewPassword)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.completeNewPassword(t,n,r).then((function(t){_t.debug("complete new password",t),"SMS_MFA"===t.challengeName?e.changeState("confirmSignIn",t):"MFA_SETUP"===t.challengeName?(_t.debug("TOTP setup",t.challengeParam),e.changeState("TOTPSetup",t)):e.checkContact(t)})).catch((function(t){return e.error(t)}))},t.prototype.showComponent=function(e){var n=this,r=this.props.hide;if(r&&r.includes(t))return null;var i=this.props.authData.challengeParam.requiredAttributes;return a.createElement(h,{theme:e,"data-test":ue.section},a.createElement(f,{theme:e,"data-test":ue.headerSection},o.g.get("Change Password")),a.createElement(b,{theme:e,"data-test":ue.bodySection},a.createElement(k,{autoFocus:!0,placeholder:o.g.get("New Password"),theme:e,key:"password",name:"password",type:"password",onChange:this.handleInputChange,"data-test":ue.newPasswordInput}),i.map((function(t){return a.createElement(k,{placeholder:o.g.get((r=t,r.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(" "))),theme:e,key:t,name:t,type:"text",onChange:n.handleInputChange});var r}))),a.createElement(g,{theme:e},a.createElement(y,{theme:e},a.createElement(I,{theme:e,onClick:this.change},o.g.get("Change"))),a.createElement(v,{theme:e},a.createElement(N,{theme:e,onClick:function(){return n.changeState("signIn")},"data-test":ue.backToSignInLink},o.g.get("Back to Sign In")))))},t}(we);var Ot=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),At=function(e){function t(t){var n=e.call(this,t)||this;return n._validAuthStates=["loading"],n}return Ot(t,e),t.prototype.showComponent=function(e){var n=this.props.hide;return n&&n.includes(t)?null:a.createElement(h,{theme:e,"data-test":le.section},a.createElement(b,{theme:e},o.g.get("Loading...")))},t}(we),It=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pt=new o.c("ConfirmSignUp"),xt=function(e){function t(t){var n=e.call(this,t)||this;return n._validAuthStates=["confirmSignUp"],n.confirm=n.confirm.bind(n),n.resend=n.resend.bind(n),n}return It(t,e),t.prototype.confirm=function(){var e=this,t=this.usernameFromAuthData()||this.inputs.username,n=this.inputs.code;if(!s.a||"function"!==typeof s.a.confirmSignUp)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.confirmSignUp(t,n).then((function(){return e.changeState("signedUp")})).catch((function(t){return e.error(t)}))},t.prototype.resend=function(){var e=this,t=this.usernameFromAuthData()||this.inputs.username;if(!s.a||"function"!==typeof s.a.resendSignUp)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.resendSignUp(t).then((function(){return Pt.debug("code resent")})).catch((function(t){return e.error(t)}))},t.prototype.showComponent=function(e){var n=this,r=this.props.hide,i=this.usernameFromAuthData();return r&&r.includes(t)?null:a.createElement(h,{theme:e,"data-test":fe.section},a.createElement(f,{theme:e,"data-test":fe.headerSection},o.g.get("Confirm Sign Up")),a.createElement(b,{theme:e,"data-test":fe.bodySection},a.createElement(A,{theme:e},a.createElement(U,{theme:e},o.g.get(this.getUsernameLabel())," *"),a.createElement(k,{placeholder:o.g.get("Username"),theme:e,key:"username",name:"username",onChange:this.handleInputChange,disabled:i,value:i||"","data-test":fe.usernameInput})),a.createElement(A,{theme:e},a.createElement(U,{theme:e},o.g.get("Confirmation Code")," *"),a.createElement(k,{autoFocus:!0,placeholder:o.g.get("Enter your code"),theme:e,key:"code",name:"code",autoComplete:"off",onChange:this.handleInputChange,"data-test":fe.confirmationCodeInput}),a.createElement(B,{theme:e},o.g.get("Lost your code? "),a.createElement(N,{theme:e,onClick:this.resend,"data-test":fe.resendCodeLink},o.g.get("Resend Code"))))),a.createElement(g,{theme:e},a.createElement(y,{theme:e},a.createElement(I,{theme:e,onClick:this.confirm,"data-test":fe.confirmButton},o.g.get("Confirm"))),a.createElement(v,{theme:e},a.createElement(N,{theme:e,onClick:function(){return n.changeState("signIn")},"data-test":fe.backToSignInLink},o.g.get("Back to Sign In")))))},t}(we),Lt=n(629),Tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nt=new o.c("VerifyContact"),Mt=function(e){function t(t){var n=e.call(this,t)||this;return n._validAuthStates=["verifyContact"],n.verify=n.verify.bind(n),n.submit=n.submit.bind(n),n.state={verifyAttr:null},n}return Tt(t,e),t.prototype.verify=function(){var e=this,t=this.inputs,n=t.contact,o=t.checkedValue;if(n){if(!s.a||"function"!==typeof s.a.verifyCurrentUserAttribute)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.verifyCurrentUserAttribute(o).then((function(t){Nt.debug(t),e.setState({verifyAttr:o})})).catch((function(t){return e.error(t)}))}else this.error("Neither Email nor Phone Number selected")},t.prototype.submit=function(){var e=this,t=this.state.verifyAttr,n=this.inputs.code;if(!s.a||"function"!==typeof s.a.verifyCurrentUserAttributeSubmit)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.verifyCurrentUserAttributeSubmit(t,n).then((function(t){Nt.debug(t),e.changeState("signedIn",e.props.authData),e.setState({verifyAttr:null})})).catch((function(t){return e.error(t)}))},t.prototype.verifyView=function(){var e=this.props.authData;if(!e)return Nt.debug("no user for verify"),null;var t=e.unverified;if(!t)return Nt.debug("no unverified on user"),null;var n=t.email,r=t.phone_number,i=this.props.theme||Lt.c;return a.createElement("div",null,n?a.createElement(S,{placeholder:o.g.get("Email"),theme:i,key:"email",name:"contact",value:"email",onChange:this.handleInputChange}):null,r?a.createElement(S,{placeholder:o.g.get("Phone Number"),theme:i,key:"phone_number",name:"contact",value:"phone_number",onChange:this.handleInputChange}):null)},t.prototype.submitView=function(){var e=this.props.theme||Lt.c;return a.createElement("div",null,a.createElement(k,{placeholder:o.g.get("Code"),theme:e,key:"code",name:"code",autoComplete:"off",onChange:this.handleInputChange}))},t.prototype.showComponent=function(e){var n=this,r=this.props,i=r.authData,s=r.hide;return s&&s.includes(t)?null:a.createElement(h,{theme:e,"data-test":se.section},a.createElement(f,{theme:e,"data-test":se.headerSection},o.g.get("Account recovery requires verified contact information")),a.createElement(b,{theme:e,"data-test":se.bodySection},this.state.verifyAttr?this.submitView():this.verifyView()),a.createElement(g,{theme:e},a.createElement(y,{theme:e},this.state.verifyAttr?a.createElement(I,{theme:e,onClick:this.submit,"data-test":se.submitButton},o.g.get("Submit")):a.createElement(I,{theme:e,onClick:this.verify,"data-test":se.verifyButton},o.g.get("Verify"))),a.createElement(v,{theme:e},a.createElement(N,{theme:e,onClick:function(){return n.changeState("signedIn",i)},"data-test":se.skipLink},o.g.get("Skip")))))},t}(we),Bt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ut=n(660),Ft=new o.c("TOTPSetupComp"),jt=function(e){function t(t){var n=e.call(this,t)||this;return n.setup=n.setup.bind(n),n.showSecretCode=n.showSecretCode.bind(n),n.verifyTotpToken=n.verifyTotpToken.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.triggerTOTPEvent=n.triggerTOTPEvent.bind(n),n.state={code:null,setupMessage:null},n}return Bt(t,e),t.prototype.componentDidMount=function(){this.setup()},t.prototype.triggerTOTPEvent=function(e,t,n){this.props.onTOTPEvent&&this.props.onTOTPEvent(e,t,n)},t.prototype.handleInputChange=function(e){this.setState({setupMessage:null}),this.inputs={};var t=e.target,n=t.name,o=t.value,r=t.type,i=t.checked,a=["radio","checkbox"].includes(r);this.inputs[n]=a?i:o},t.prototype.setup=function(){var e=this;this.setState({setupMessage:null});var t=this.props.authData,n=encodeURI(o.g.get("AWSCognito"));if(!s.a||"function"!==typeof s.a.setupTOTP)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.setupTOTP(t).then((function(o){Ft.debug("secret key",o);var r="otpauth://totp/"+n+":"+t.username+"?secret="+o+"&issuer="+n;e.setState({code:r})})).catch((function(e){return Ft.debug("totp setup failed",e)}))},t.prototype.verifyTotpToken=function(){var e=this;if(this.inputs){var t=this.props.authData,n=this.inputs.totpCode;if(!s.a||"function"!==typeof s.a.verifyTotpToken||"function"!==typeof s.a.setPreferredMFA)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");return s.a.verifyTotpToken(t,n).then((function(){return s.a.setPreferredMFA(t,"TOTP").then((function(){e.setState({setupMessage:"Setup TOTP successfully!"}),Ft.debug("set up totp success!"),e.triggerTOTPEvent("Setup TOTP","SUCCESS",t)})).catch((function(t){e.setState({setupMessage:"Setup TOTP failed!"}),Ft.error(t)}))})).catch((function(t){e.setState({setupMessage:"Setup TOTP failed!"}),Ft.error(t)}))}Ft.debug("no input")},t.prototype.showSecretCode=function(e,t){return e?a.createElement("div",null,a.createElement("div",{className:c.totpQrcode},a.createElement(Ut,{value:e})),a.createElement(U,{theme:t},o.g.get("Enter Security Code:")),a.createElement(k,{autoFocus:!0,theme:t,key:"totpCode",name:"totpCode",onChange:this.handleInputChange})):null},t.prototype.render=function(){var e=this.props.theme?this.props.theme:u,t=this.state.code;return a.createElement(h,{theme:e},this.state.setupMessage&&a.createElement(H,null,o.g.get(this.state.setupMessage)),a.createElement(f,{theme:e},o.g.get("Scan then enter verification code")),a.createElement(b,{theme:e},this.showSecretCode(t,e),this.state.setupMessage&&o.g.get(this.state.setupMessage)),a.createElement(g,{theme:e},a.createElement(I,{theme:e,onClick:this.verifyTotpToken,style:{width:"100%"}},o.g.get("Verify Security Token"))))},t}(a.Component),Dt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rt=function(){return(Rt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},zt=new o.c("TOTPSetup"),Ht=function(e){function t(t){var n=e.call(this,t)||this;return n._validAuthStates=["TOTPSetup"],n.onTOTPEvent=n.onTOTPEvent.bind(n),n.checkContact=n.checkContact.bind(n),n}return Dt(t,e),t.prototype.checkContact=function(e){var t=this;if(!s.a||"function"!==typeof s.a.verifiedContact)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.verifiedContact(e).then((function(n){if(o.j.isEmpty(n.verified)){var r=Object.assign(e,n);t.changeState("verifyContact",r)}else t.changeState("signedIn",e)}))},t.prototype.onTOTPEvent=function(e,t,n){zt.debug("on totp event",e,t),"Setup TOTP"===e&&"SUCCESS"===t&&this.checkContact(n)},t.prototype.showComponent=function(e){var n=this.props.hide;return n&&n.includes(t)?null:a.createElement(jt,Rt({},this.props,{onTOTPEvent:this.onTOTPEvent,"data-test":ce.component}))},t}(we),Gt=[["User does not exist",/user.*not.*exist/i],["User already exists",/user.*already.*exist/i],["Incorrect username or password",/incorrect.*username.*password/i],["Invalid password format",/validation.*password/i],["Invalid phone number format",/invalid.*phone/i,"Invalid phone number format. Please use a phone number format of +12345678900"]];function qt(e){var t=Gt.filter((function(t){return t[1].test(e)}));if(0===t.length)return e;var n=t[0],r=n.length>2?n[2]:n[0];return o.g.get(n[0],r)}var Vt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kt=new o.c("Authenticator"),Wt=function(e){var t=e.children;return a.createElement(a.Fragment,null,t)},Zt=function(e){function t(t){var n=e.call(this,t)||this;return n.handleStateChange=n.handleStateChange.bind(n),n.handleAuthEvent=n.handleAuthEvent.bind(n),n.onHubCapsule=n.onHubCapsule.bind(n),n._initialAuthState=n.props.authState||"signIn",n.state={authState:"loading"},o.f.listen("auth",n.onHubCapsule),n}return Vt(t,e),t.prototype.componentDidMount=function(){var e=this.props.amplifyConfig;e&&o.s.configure(e),this._isMounted=!0;var t=localStorage.getItem(Ee.REDIRECTED_FROM_HOSTED_UI);localStorage.removeItem(Ee.REDIRECTED_FROM_HOSTED_UI),"true"!==t&&this.checkUser()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.checkUser=function(){var e=this;if(!s.a||"function"!==typeof s.a.currentAuthenticatedUser)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");return s.a.currentAuthenticatedUser().then((function(t){e._isMounted&&e.handleStateChange("signedIn",t)})).catch((function(t){if(e._isMounted){var n=null;try{n=localStorage.getItem("amplify-authenticator-authState")}catch(o){Kt.debug("Failed to get the auth state from local storage",o)}("signedIn"===n?s.a.signOut():Promise.resolve()).then((function(){return e.handleStateChange(e._initialAuthState)})).catch((function(e){Kt.debug("Failed to sign out",e)}))}}))},t.prototype.onHubCapsule=function(e){var t=e.channel,n=e.payload;e.source;if("auth"===t)switch(n.event){case"cognitoHostedUI":this.handleStateChange("signedIn",n.data);break;case"cognitoHostedUI_failure":case"parsingUrl_failure":case"signOut":case"customGreetingSignOut":this.handleStateChange("signIn",null)}},t.prototype.handleStateChange=function(e,t){if(Kt.debug("authenticator state change "+e,t),e!==this.state.authState){"signedOut"===e&&(e="signIn");try{localStorage.setItem("amplify-authenticator-authState",e)}catch(n){Kt.debug("Failed to set the auth state into local storage",n)}this._isMounted&&this.setState({authState:e,authData:t,error:null,showToast:!1}),this.props.onStateChange&&this.props.onStateChange(e,t)}},t.prototype.handleAuthEvent=function(e,t,n){if(void 0===n&&(n=!0),"error"===t.type){var o=this.props.errorMessage||qt,r="string"===typeof o?o:o(t.data);this.setState({error:r,showToast:n})}},t.prototype.render=function(){var e=this,t=this.state,n=t.authState,r=t.authData,i=this.props.theme||u,s=this.props.errorMessage||qt,c=void 0===this.props.container?p:this.props.container||Wt,l=this.props,d=l.hideDefault,h=l.hide,f=void 0===h?[]:h,m=l.federated,g=l.signUpConfig,y=l.usernameAttributes;d&&(f=f.concat([ot,Ct,Et,kt,dt,xt,Mt,mt,Ht,At]));var v=[];"object"===typeof this.props.children&&(Array.isArray(this.props.children)?v=this.props.children:v.push(this.props.children));var b=[a.createElement(ot,{federated:m}),a.createElement(Ct,{federated:m}),a.createElement(Et,null),a.createElement(kt,null),a.createElement(dt,{signUpConfig:g}),a.createElement(xt,null),a.createElement(Mt,null),a.createElement(mt,null),a.createElement(Ht,null),a.createElement(At,null)],C=a.Children.map(v,(function(e){return e.props.override}));f=f.filter((function(e){return!v.find((function(t){return t.type===e}))}));var w=a.Children.map(v,(function(t,o){return a.cloneElement(t,{key:"aws-amplify-authenticator-props-children-"+o,theme:i,messageMap:s,authState:n,authData:r,onStateChange:e.handleStateChange,onAuthEvent:e.handleAuthEvent,hide:f,override:C,usernameAttributes:y})})),E=(d?[]:a.Children.map(b,(function(t,o){return a.cloneElement(t,{key:"aws-amplify-authenticator-default-children-"+o,theme:i,messageMap:s,authState:n,authData:r,onStateChange:e.handleStateChange,onAuthEvent:e.handleAuthEvent,hide:f,override:C,usernameAttributes:y})}))).concat(w),S=this.state.error;return a.createElement(c,{theme:i},this.state.showToast&&a.createElement(H,{theme:i,onClose:function(){return e.setState({showToast:!1})},"data-test":re.signInError},o.g.get(S)),E)},t}(a.Component),Jt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yt=function(){return(Yt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};(function(e){function t(t){var n=e.call(this,t)||this;return n.state={auth:"init"},n.handleAuthState=n.handleAuthState.bind(n),n.renderChildren=n.renderChildren.bind(n),n}Jt(t,e),t.prototype.handleAuthState=function(e,t){this.setState({auth:e,authData:t})},t.prototype.renderChildren=function(){return this.props.children(this.state.auth)},t.prototype.render=function(){return a.createElement("div",null,a.createElement(Zt,Yt({},this.props,{onStateChange:this.handleAuthState})),this.renderChildren())}})(a.Component),n(39),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)}}();!function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)}}();var Xt=n(53),Qt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$t={width:"100%",height:"100%",display:"inline-block",position:"absolute",left:0,top:0,opacity:0,cursor:"pointer"},en=new o.c("Picker"),tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qt(t,e),t.prototype.handleInput=function(e){var t=e.target.files[0];if(t){var n=t.name,o=t.size,r=t.type;en.debug(t);var i=this.props.onPick;i&&i({file:t,name:n,size:o,type:r})}},t.prototype.render=function(){var e=this,t=this.props.title||"Pick a File",n=this.props.accept||"*/*",r=this.props.theme||u,i=Object.assign({},{position:"relative"},r.pickerPicker),s=Object.assign({},$t,r.pickerInput);return a.createElement("div",{style:i},a.createElement(P,{theme:r},o.g.get(t)),a.createElement("input",{title:o.g.get(t),type:"file",accept:n,style:s,onChange:function(t){return e.handleInput(t)}}))},t}(a.Component),nn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),on={maxWidth:"100%"},rn=(new o.c("PhotoPicker"),function(e){function t(t){var n=e.call(this,t)||this;return n.handlePick=n.handlePick.bind(n),n.state={previewSrc:t.previewSrc},n}return nn(t,e),t.prototype.handlePick=function(e){var t=this,n=e.file,o=(e.name,e.size,e.type,this.props),r=o.preview,i=o.onPick,a=o.onLoad;if(i&&i(e),r){var s=new FileReader;s.onload=function(e){var n=e.target.result;t.setState({previewSrc:n}),a&&a(n)},s.readAsDataURL(n)}},t.prototype.render=function(){var e=this.props.preview,t=this.state.previewSrc,n=this.props.headerText||"Photos",r=this.props.headerHint||"Add your photos by clicking below",i=this.props.title||"Select a Photo",s=this.props.theme||u,c=Object.assign({},on,s.pickerPreview),l=!(e&&"hidden"!==e);return a.createElement(h,{theme:s},a.createElement(f,{theme:s,hint:r},o.g.get(n)),a.createElement(b,{theme:s},t?l?"The image has been selected":a.createElement("img",{src:t,style:c}):a.createElement(q,{theme:s})),a.createElement(tn,{title:i,accept:"image/*",theme:s,onPick:this.handlePick}))},t}(a.Component));function an(e,t){var n=e.name,o=e.size,r=e.type,i=encodeURI(n);if(t){var a=typeof t;(i="string"===a?t:"function"===a?t({name:n,size:o,type:r}):encodeURI(JSON.stringify(t)))||(i="empty_key")}return i.replace(/\s/g,"_")}var sn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),cn=new o.c("Storage.S3Image"),un=function(e){function t(t){var n=e.call(this,t)||this;n._isMounted=!1,n.handleOnLoad=n.handleOnLoad.bind(n),n.handleOnError=n.handleOnError.bind(n),n.handlePick=n.handlePick.bind(n),n.handleClick=n.handleClick.bind(n);var o=n.props.src||i.e;return n.state={src:o},n}return sn(t,e),t.prototype.getImageSource=function(e,t,n,o){var r=this;if(!Xt.a||"function"!==typeof Xt.a.get)throw new Error("No Storage module found, please ensure @aws-amplify/storage is imported");Xt.a.get(e,{level:t||"public",track:n,identityId:o}).then((function(e){r._isMounted&&r.setState({src:e})})).catch((function(e){return cn.debug(e)}))},t.prototype.load=function(){var e=this.props,t=e.imgKey,n=e.path,o=e.body,r=e.contentType,i=e.level,a=e.track,s=e.identityId;if(t||n){var c=this,u=t||n;if(cn.debug("loading "+u+"..."),o){var l=r||"binary/octet-stream";if(!Xt.a||"function"!==typeof Xt.a.put)throw new Error("No Storage module found, please ensure @aws-amplify/storage is imported");Xt.a.put(u,o,{contentType:l,level:i||"public",track:a}).then((function(e){cn.debug(e),c.getImageSource(u,i,a,s)})).catch((function(e){return cn.debug(e)}))}else c.getImageSource(u,i,a,s)}else cn.debug("empty imgKey and path")},t.prototype.handleOnLoad=function(e){var t=this.props.onLoad;t&&t(this.state.src)},t.prototype.handleOnError=function(e){var t=this.props.onError;t&&t(this.state.src)},t.prototype.handlePick=function(e){var t=this,n=this.props.path||"",o=this.props,r=o.imgKey,i=o.level,a=o.fileToKey,s=o.track,c=o.identityId,u=e.file,l=(e.name,e.size,e.type),p=r||n+an(e,a);if(!Xt.a||"function"!==typeof Xt.a.put)throw new Error("No Storage module found, please ensure @aws-amplify/storage is imported");Xt.a.put(p,u,{level:i||"public",contentType:l,track:s}).then((function(e){cn.debug("handle pick data",e),t.getImageSource(p,i,s,c)})).catch((function(e){return cn.debug("handle pick error",e)}))},t.prototype.handleClick=function(e){var t=this.props.onClick;t&&t(e)},t.prototype.componentDidMount=function(){this._isMounted=!0,this.load()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentDidUpdate=function(e){(e.path!==this.props.path||e.imgKey!==this.props.imgKey||e.body!==this.props.body||e.level!==this.props.level)&&this.load()},t.prototype.imageEl=function(e,t){if(!e)return null;var n=this.props.selected;return a.createElement("div",{style:{position:"relative"},onClick:this.handleClick},a.createElement("img",{style:t.photoImg,src:e,onLoad:this.handleOnLoad,onError:this.handleOnError}),a.createElement("div",{style:n?t.overlaySelected:t.overlay}))},t.prototype.render=function(){var e=this.props,t=e.hidden,n=e.style,o=e.picker,r=e.translate,i=e.imgKey,s=this.state.src;if(r&&(s="string"===typeof r?r:r({type:"image",key:i,content:s})),!s&&!o)return null;var c=this.props.theme||Lt.c,u=t?Lt.c.hidden:Object.assign({},c.photo,n);return a.createElement("div",{style:u},u?this.imageEl(s,c):null,o?a.createElement("div",null,a.createElement(rn,{key:"picker",onPick:this.handlePick,theme:c})):null)},t}(a.Component),ln=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pn={},dn={maxWidth:"100%"},hn=(new o.c("TextPicker"),function(e){function t(t){var n=e.call(this,t)||this;return n.handlePick=n.handlePick.bind(n),n.state={previewText:t.previewText},n}return ln(t,e),t.prototype.handlePick=function(e){var t=this,n=e.file,o=(e.name,e.size,e.type,this.props),r=o.preview,i=o.onPick,a=o.onLoad;if(i&&i(e),r){var s=new FileReader;s.onload=function(e){var n=e.target.result;t.setState({previewText:n}),a&&a(n)},s.readAsText(n)}},t.prototype.render=function(){var e=this.props.preview,t=this.state.previewText,n=this.props.title||"Pick a File",o=this.props.theme||Lt.c,r=Object.assign({},pn,o.picker),i=Object.assign({},dn,o.pickerPreview,o.halfHeight,e&&"hidden"!==e?{}:Lt.c.hidden);return a.createElement("div",{style:r},t?a.createElement("div",{style:i},a.createElement("pre",{style:o.pre},t)):null,a.createElement(tn,{title:n,accept:"text/*",theme:o,onPick:this.handlePick}))},t}(a.Component)),fn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mn=new o.c("Storage.S3Text"),gn=function(e){function t(t){var n=e.call(this,t)||this;n._isMounted=!1,n.handleOnLoad=n.handleOnLoad.bind(n),n.handleOnError=n.handleOnError.bind(n),n.handlePick=n.handlePick.bind(n),n.handleClick=n.handleClick.bind(n);var o=t.text,r=t.textKey;return n.state={text:o||"",textKey:r||""},n}return fn(t,e),t.prototype.getText=function(e,t,n,o){var r=this;if(!Xt.a||"function"!==typeof Xt.a.get)throw new Error("No Storage module found, please ensure @aws-amplify/storage is imported");Xt.a.get(e,{download:!0,level:t||"public",track:n,identityId:o}).then((function(e){mn.debug(e);var t=e.Body.toString("utf8");r._isMounted&&r.setState({text:t}),r.handleOnLoad(t)})).catch((function(e){mn.debug(e),r.handleOnError(e)}))},t.prototype.load=function(){var e=this.props,t=e.path,n=e.textKey,o=e.body,r=e.contentType,i=e.level,a=e.track,s=e.identityId;if(n||t){var c=this,u=n||t;if(mn.debug("loading "+u+"..."),o){var l=r||"text/*";if(!Xt.a||"function"!==typeof Xt.a.put)throw new Error("No Storage module found, please ensure @aws-amplify/storage is imported");Xt.a.put(u,o,{contentType:l,level:i||"public",track:a}).then((function(e){mn.debug(e),c.getText(u,i,a,s)})).catch((function(e){return mn.debug(e)}))}else c.getText(u,i,a,s)}else mn.debug("empty textKey and path")},t.prototype.handleOnLoad=function(e){var t=this.props.onLoad;t&&t(e)},t.prototype.handleOnError=function(e){var t=this.props.onError;t&&t(e)},t.prototype.handlePick=function(e){var t=this,n=this.props.path||"",o=this.props,r=o.textKey,i=o.level,a=o.fileToKey,s=o.track,c=o.identityId,u=e.file,l=(e.name,e.size,e.type),p=r||n+an(e,a);if(!Xt.a||"function"!==typeof Xt.a.put)throw new Error("No Storage module found, please ensure @aws-amplify/storage is imported");Xt.a.put(p,u,{level:i||"public",contentType:l,track:s}).then((function(e){mn.debug("handle pick data",e),t.getText(p,i,s,c)})).catch((function(e){return mn.debug("handle pick error",e)}))},t.prototype.handleClick=function(e){var t=this.props.onClick;t&&t(e)},t.prototype.componentDidMount=function(){this._isMounted=!0,this.load()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentDidUpdate=function(e){(e.path!==this.props.path||e.textKey!==this.props.textKey||e.body!==this.props.body)&&this.load()},t.prototype.textEl=function(e,t){if(!e)return null;var n=this.props.selected;return a.createElement("div",{style:{position:"relative"},onClick:this.handleClick},a.createElement("pre",{style:t.pre},e),a.createElement("div",{style:n?t.overlaySelected:t.overlay}))},t.prototype.render=function(){var e=this.props,t=e.hidden,n=e.style,o=e.picker,r=e.translate,i=e.textKey,s=this.state.text;if(r&&(s="string"===typeof r?r:r({type:"text",key:i,content:s})),!s&&!o)return null;var c=this.props.theme||Lt.c,u=t?Lt.c.hidden:Object.assign({},c.text,n);return a.createElement("div",{style:u},u?this.textEl(s,c):null,o?a.createElement("div",null,a.createElement(hn,{key:"picker",onPick:this.handlePick,theme:c})):null)},t}(a.Component),yn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vn=new o.c("Storage.S3Album"),bn=(function(e){function t(t){var n=e.call(this,t)||this;return n._isMounted=!1,n.handlePick=n.handlePick.bind(n),n.handleClick=n.handleClick.bind(n),n.list=n.list.bind(n),n.marshal=n.marshal.bind(n),n.state={items:[],ts:(new Date).getTime()},n}yn(t,e),t.prototype.getKey=function(e){var t=this.props.fileToKey,n=e.name,o=e.size,r=e.type,i=encodeURI(n);if(t){var a=typeof t;(i="string"===a?t:"function"===a?t({name:n,size:o,type:r}):encodeURI(JSON.stringify(t)))||(vn.debug("key is empty"),i="empty_key")}return i.replace(/\s/g,"_")},t.prototype.handlePick=function(e){var t=this,n=this.props,o=n.onPick,r=n.onLoad,i=n.onError,a=n.track,s=n.level;o&&o(e);var c=this.props.path||"",u=e.file,l=(e.name,e.size,e.type),p=c+this.getKey(e);if(!Xt.a||"function"!==typeof Xt.a.put)throw new Error("No Storage module found, please ensure @aws-amplify/storage is imported");Xt.a.put(p,u,{level:s||"public",contentType:l,track:a}).then((function(e){vn.debug("handle pick data",e);var n=t.state.items;if(0===n.filter((function(e){return e.key===p})).length){var o=n.concat(e);t.marshal(o)}else vn.debug("update an item");r&&r(e)})).catch((function(e){vn.debug("handle pick error",e),i&&i(e)})),this._isMounted&&this.setState({ts:(new Date).getTime()})},t.prototype.handleClick=function(e){var t=this.props,n=t.onClickItem,o=t.select,r=t.onSelect;(n&&n(e),o)&&(e.selected=!e.selected,this._isMounted&&this.setState({items:this.state.items.slice()}),r&&r(e,this.state.items.filter((function(e){return e.selected}))))},t.prototype.componentDidMount=function(){this._isMounted=!0,this.list()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentDidUpdate=function(e,t){this.props.path===e.path&&this.props.ts===e.ts&&this.props.select===e.select||(this.props.select||this.state.items.forEach((function(e){return e.selected=!1})),this.props.onSelect&&this.props.onSelect(null,[]),this.list())},t.prototype.list=function(){var e=this,t=this.props,n=t.path,o=t.level,r=t.track,i=t.identityId;if(vn.debug("Album path: "+n),!Xt.a||"function"!==typeof Xt.a.list)throw new Error("No Storage module found, please ensure @aws-amplify/storage is imported");return Xt.a.list(n,{level:o||"public",track:r,identityId:i}).then((function(t){vn.debug("album list",t),e.marshal(t)})).catch((function(e){return vn.warn(e),[]}))},t.prototype.contentType=function(e){return o.j.filenameToContentType(e.key,"image/*")},t.prototype.marshal=function(e){var t=this,n=this.props.contentType||"";e.forEach((function(e){if(!e.contentType){var o="string"===typeof n;e.contentType=o?n:n(e),e.contentType||(e.contentType=t.contentType(e))}}));var o=this.filter(e);o=this.sort(o),this._isMounted&&this.setState({items:o})},t.prototype.filter=function(e){var t=this.props.filter;return t?t(e):e},t.prototype.sort=function(e){var t=this.props.sort,n=typeof t;if("function"===n)return t(e);if(["string","undefined"].includes(n)){var r=(t||"lastModified").split(/\s+/),i=r[0],a=r.length>1?r[1]:"";return a="lastModified"===i?"asc"===a?"asc":"desc":"desc"===a?"desc":"asc",o.j.sortByField(e,i,a),e}return vn.warn("invalid sort. done nothing. should be a string or function"),e},t.prototype.render=function(){var e=this,t=this.props,n=t.picker,r=t.translateItem,i=t.level,s=t.identityId,c=this.state,u=c.items,l=c.ts,p=this.props.pickerTitle||"Pick",d=this.props.theme||Lt.c,h=u.map((function(t){return t.contentType&&o.j.isTextFile(t.contentType)?a.createElement(gn,{key:t.key,textKey:t.key,theme:d,style:d.albumText,selected:t.selected,translate:r,level:i,identityId:s,onClick:function(){return e.handleClick(t)}}):a.createElement(un,{key:t.key,imgKey:t.key,theme:d,style:d.albumPhoto,selected:t.selected,translate:r,level:i,identityId:s,onClick:function(){return e.handleClick(t)}})}));return a.createElement("div",null,a.createElement("div",{style:d.album},h),n?a.createElement(tn,{key:l,title:p,accept:"image/*, text/*",onPick:this.handlePick,theme:d}):null)}}(a.Component),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Cn=function(){return(Cn=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},wn=new o.c("SelectMFAType"),En=(function(e){function t(t){var n=e.call(this,t)||this;return n.verify=n.verify.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.state={TOTPSetup:!1,selectMessage:null},n}bn(t,e),t.prototype.handleInputChange=function(e){this.setState({TOTPSetup:!1,selectMessage:null}),this.inputs={};var t=e.target,n=(t.name,t.value),o=t.type,r=t.checked,i=["radio","checkbox"].includes(o);this.inputs[n]=i?r:n},t.prototype.verify=function(){var e=this;if(wn.debug("mfatypes inputs",this.inputs),this.inputs){var t=this.inputs,n=t.TOTP,o=t.SMS,r=t.NOMFA,i=null;n?i="TOTP":o?i="SMS":r&&(i="NOMFA");var a=this.props.authData;if(!s.a||"function"!==typeof s.a.setPreferredMFA)throw new Error("No Auth module found, please ensure @aws-amplify/auth is imported");s.a.setPreferredMFA(a,i).then((function(t){wn.debug("set preferred mfa success",t),e.setState({selectMessage:"Success! Your MFA Type is now: "+i,showToast:!0})})).catch((function(t){var n=t.message;"User has not set up software token mfa"===n||"User has not verified software token mfa"===n?e.setState({TOTPSetup:!0,selectMessage:"You need to setup TOTP",showToast:!0}):(wn.debug("set preferred mfa failed",t),e.setState({selectMessage:"Failed! You cannot select MFA Type for now!",showToast:!0}))}))}else wn.debug("No mfa type selected")},t.prototype.selectView=function(e){var t=this,n=this.props.MFATypes;if(!n||Object.keys(n).length<2)return wn.debug("less than 2 mfa types available"),a.createElement("div",null,a.createElement("a",null,"less than 2 mfa types available"));var r=n.SMS,i=n.TOTP,s=n.Optional;return a.createElement(h,{theme:e},this.state.showToast&&this.state.selectMessage&&a.createElement(H,{theme:e,onClose:function(){return t.setState({showToast:!1})}},o.g.get(this.state.selectMessage)),a.createElement(f,{theme:e},o.g.get("Select MFA Type")),a.createElement(b,{theme:e},a.createElement("div",null,r?a.createElement(S,{placeholder:o.g.get("SMS"),theme:e,key:"sms",name:"MFAType",value:"SMS",onChange:this.handleInputChange}):null,i?a.createElement(S,{placeholder:o.g.get("TOTP"),theme:e,key:"totp",name:"MFAType",value:"TOTP",onChange:this.handleInputChange}):null,s?a.createElement(S,{placeholder:o.g.get("No MFA"),theme:e,key:"noMFA",name:"MFAType",value:"NOMFA",onChange:this.handleInputChange}):null)),a.createElement(g,{theme:e},a.createElement(I,{theme:e,onClick:this.verify},o.g.get("Verify"))))},t.prototype.render=function(){var e=this.props.theme?this.props.theme:u;return a.createElement("div",null,this.selectView(e),this.state.TOTPSetup?a.createElement(jt,Cn({},this.props)):null)}}(a.Component),n(64)),Sn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_n=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},kn=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},On=(function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.getInitialState(),n.subSubscription=null,n}Sn(t,e),t.prototype.getInitialState=function(){var e=this.props.query;return{loading:e&&!!e.query,data:{},errors:[],mutation:function(){return console.warn("Not implemented")}}},t.prototype.getDefaultState=function(){return{loading:!1,data:{},errors:[],mutation:function(){return console.warn("Not implemented")}}},t.prototype._fetchData=function(){return _n(this,void 0,void 0,(function(){var e,t,n,o,r,i,a,s,c,u,l,p,d,h,f,m,g,y,v,b,C,w,E,S,_,k=this;return kn(this,(function(O){switch(O.label){case 0:if(this._unsubscribe(),this.setState({loading:!0}),e=this.props,t=e.query,o=(n=void 0===t?{}:t).query,r=n.variables,i=void 0===r?{}:r,a=e.mutation,c=(s=void 0===a?{}:a).query,u=s.mutationVariables,void 0===u?{}:u,l=e.subscription,p=e.onSubscriptionMsg,d=void 0===p?function(e){return e}:p,h=this.getDefaultState(),f=h.data,m=h.mutation,g=h.errors,!En.a||"function"!==typeof En.a.graphql||"function"!==typeof En.a.getGraphqlOperationType)throw new Error("No API module found, please ensure @aws-amplify/api is imported");if(y=o&&"query"===En.a.getGraphqlOperationType(o),v=c&&"mutation"===En.a.getGraphqlOperationType(c),b=l&&"subscription"===En.a.getGraphqlOperationType(l.query),y||v||b||console.warn("No query, mutation or subscription was specified"),!y)return[3,4];O.label=1;case 1:return O.trys.push([1,3,,4]),f=null,[4,En.a.graphql({query:o,variables:i})];case 2:return C=O.sent(),f=C.data,[3,4];case 3:return w=O.sent(),f=w.data,g=w.errors,[3,4];case 4:if(v&&(m=function(e){return _n(k,void 0,void 0,(function(){var t;return kn(this,(function(n){switch(n.label){case 0:return[4,En.a.graphql({query:c,variables:e})];case 1:return t=n.sent(),this.forceUpdate(),[2,t]}}))}))}),b){E=l.query,S=l.variables;try{_=En.a.graphql({query:E,variables:S}),this.subSubscription=_.subscribe({next:function(e){var t=e.value.data,n=k.state.data,o=d(n,t);k.mounted&&k.setState({data:o})},error:function(e){return console.error(e)}})}catch(A){g=A.errors}}return this.setState({data:f,errors:g,mutation:m,loading:!1}),[2]}}))}))},t.prototype._unsubscribe=function(){this.subSubscription&&this.subSubscription.unsubscribe()},t.prototype.componentDidMount=function(){return _n(this,void 0,void 0,(function(){return kn(this,(function(e){return this._fetchData(),this.mounted=!0,[2]}))}))},t.prototype.componentWillUnmount=function(){this._unsubscribe(),this.mounted=!1},t.prototype.componentDidUpdate=function(e){var t=this.state.loading,n=this.props,o=n.query,r=n.mutation,i=e.query,a=e.mutation,s=o||{},c=s.query,u=s.variables,l=i||{},p=l.query,d=l.variables,h=p!==c||JSON.stringify(d)!==JSON.stringify(u),f=r||{},m=f.query,g=f.variables,y=a||{},v=y.query,b=y.variables,C=v!==m||JSON.stringify(b)!==JSON.stringify(g);t||!h&&!C||this._fetchData()},t.prototype.render=function(){var e=this.state,t=e.data,n=e.loading,o=e.mutation,r=e.errors;return this.props.children({data:t,errors:r,loading:n,mutation:o})||null}}(a.Component),n(643),n(79)),An=function(e){var t=""+c.tooltip;return e.autoShowTooltip&&(t=c.tooltip+" "+c.autoShowTooltip),a.createElement("div",{className:t,"data-text":e.text},e.children)},In=function(e){var t;switch(e.variant){case"sound-mute":t=a.createElement("svg",{width:"19",height:"19",viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"icons/minis/volumeOff",fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M3.48026899,12.9630494 C3.63825091,12.9630494 3.79237961,13.0108921 3.92264322,13.1003479 L8.77467683,16.8113609 C9.29423971,17.1679383 10,16.7950396 10,16.1637406 L10,3.78619489 C10,3.15489596 9.29423971,2.78199725 8.77467683,3.13857463 L3.92264322,6.84545211 C3.79237961,6.93490793 3.63825091,6.9827506 3.48026899,6.9827506 L1.78294894,6.9827506 C1.3505185,6.9827506 1,7.33409518 1,7.76754476 L1,12.1781306 C1,12.6117048 1.3505185,12.9630494 1.78294894,12.9630494 L3.48026899,12.9630494 Z M17.2118156,7 L15.0918385,9.11997713 L12.9718614,7 L12,7.97174685 L14.1200917,10.091724 L12,12.2118156 L12.9718614,13.1835625 L15.0918385,11.0635854 L17.2118156,13.1835625 L18.1835625,12.2118156 L16.0635854,10.091724 L18.1835625,7.97174685 L17.2118156,7 Z",id:"Fill-2",fill:"#FFF"})));break;case"sound":t=a.createElement("svg",{width:"19",height:"19",viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"icons/minis/volumeOn",fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M3.48026899,12.9630494 L1.78294894,12.9630494 C1.3505185,12.9630494 1,12.6117048 1,12.1781306 L1,7.76754476 C1,7.33409518 1.3505185,6.9827506 1.78294894,6.9827506 L3.48026899,6.9827506 C3.63825091,6.9827506 3.79237961,6.93490793 3.92264322,6.84545211 L8.77467683,3.13857463 C9.29423971,2.78199725 10,3.15489596 10,3.78619489 L10,16.1637406 C10,16.7950396 9.29423971,17.1679383 8.77467683,16.8113609 L3.92264322,13.1003479 C3.79237961,13.0108921 3.63825091,12.9630494 3.48026899,12.9630494 Z M14.9270376,3.03232286 C15.1729267,3.03232286 15.4040399,3.12815658 15.5777627,3.3022351 C17.3699891,5.09889099 18.3570052,7.48235058 18.3570052,10.0135053 C18.3570052,12.54466 17.3699891,14.9281196 15.5777627,16.7247755 C15.4041045,16.898854 15.1729914,16.9947524 14.9270052,16.9947524 C14.6820861,16.9947524 14.4515549,16.899436 14.2777674,16.7263598 C13.9192316,16.3684383 13.9185203,15.7852882 14.2762477,15.4264291 C15.7222893,13.9769926 16.5186727,12.0545954 16.5186727,10.0135053 C16.5186727,7.97241524 15.7222893,6.05001801 14.2762154,4.60058152 C13.9184879,4.24175473 13.9191992,3.65857229 14.277832,3.30065081 C14.4514256,3.1275746 14.6819567,3.03232286 14.9270376,3.03232286 Z M13.5730665,6.11570485 C14.6133991,7.15574642 15.1862998,8.54003279 15.1862998,10.0134924 C15.1862998,11.4892799 14.6113945,12.8741159 13.5675376,13.9128965 C13.3942351,14.0855848 13.1639626,14.1806425 12.9191727,14.1806425 C12.6727016,14.1806425 12.4412975,14.0844531 12.2677039,13.9097926 C12.0944984,13.7358111 11.9994406,13.5047303 11.9999903,13.2592291 C12.0005723,13.0136956 12.096794,12.7831644 12.2708079,12.6100882 C12.9654406,11.9185917 13.3479995,10.996467 13.3479995,10.0134924 C13.3479995,9.03119677 12.966346,8.1086194 12.2733298,7.4157649 C11.9150203,7.05745543 11.9149233,6.47436998 12.2731358,6.11589885 C12.4467617,5.94224065 12.6775838,5.84666559 12.923085,5.84666559 C13.1685538,5.84666559 13.3993436,5.94220831 13.5730665,6.11570485 Z",id:"Fill-2",fill:"#FFF"})));break;case"maximize":t=a.createElement("svg",{width:"19",height:"19",viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"icons/minis/screenfull",fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M2.04162598,3 L2.04162598,16 L17.0147705,16 L17.0147705,3 L2.04162598,3 Z M1,2 L18,2 L18,17 L1,17 L1,2 Z M3,4 L16,4 L16,15 L3,15 L3,4 Z",id:"Rectangle-Copy",fill:"#FFF",fillRule:"nonzero"})));break;case"minimize":t=a.createElement("svg",{width:"19",height:"19",viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"icons/minis/screensmall",fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M11,16 L17.0147705,16 L17.0147705,3 L2.04162598,3 L2.04162598,10 L11,10 L11,16 Z M1,2 L18,2 L18,17 L1,17 L1,2 Z",id:"Rectangle",fill:"#FFF",fillRule:"nonzero"})));break;case"enter-vr":t=a.createElement("svg",{width:"19",height:"19",viewBox:"0 0 17 10",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"Page-1",fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"VRon",fill:"#FFF",fillRule:"nonzero"},a.createElement("path",{d:"M15.7856977,0.02395184 L15.8915734,0.02395184 C16.5037405,0.02395184 17,0.520211324 17,1.13237842 L17,1.54663675 L17,8.8915038 C17,9.5034193 16.4560011,10 15.7856977,10 L12.0095825,10 C9.98324439,7.1593807 8.80676009,5.741338 8.48012959,5.74587199 C8.16206045,5.75028714 7.01003321,7.1683298 5.02404785,10 L1.21426911,10 C0.543965735,10 3.32031236e-05,9.5034193 3.32031236e-05,8.8915038 L3.32031236e-05,1.54663675 L3.32031236e-05,1.13237842 L3.32031236e-05,1.13237842 C3.32031236e-05,0.520211324 0.496292687,0.02395184 1.10845978,0.02395184 L1.21426911,0.02395184 L15.7856977,0.02395184 Z M4.5,6 C5.32842712,6 6,5.32842712 6,4.5 C6,3.67157288 5.32842712,3 4.5,3 C3.67157288,3 3,3.67157288 3,4.5 C3,5.32842712 3.67157288,6 4.5,6 Z M12.5,6 C13.3284271,6 14,5.32842712 14,4.5 C14,3.67157288 13.3284271,3 12.5,3 C11.6715729,3 11,3.67157288 11,4.5 C11,5.32842712 11.6715729,6 12.5,6 Z",id:"Fill-1"}))));break;case"exit-vr":t=a.createElement("svg",{width:"19",height:"19",viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"icons/minis/VRon-Copy",fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"Group-7-Copy",transform:"translate(1 3)",fill:"#FFF"},a.createElement("path",{d:"M15.7856977,3.02395184 L17,3.02395184 L17,4.13237842 L17,4.54663675 L17,11.8915038 C17,12.5034193 16.4560011,13 15.7856977,13 L12.0095825,13 C9.98324439,10.1593807 8.80676009,8.741338 8.48012959,8.74587199 C8.16206045,8.75028714 7.01003321,10.1683298 5.02404785,13 L1.21426911,13 C0.543965735,13 3.32031236e-05,12.5034193 3.32031236e-05,11.8915038 L3.32031236e-05,4.54663675 L3.32031236e-05,4.13237842 L3.32031236e-05,3.02395184 L1.21426911,3.02395184 L15.7856977,3.02395184 Z M4.5,9 C5.32842712,9 6,8.32842712 6,7.5 C6,6.67157288 5.32842712,6 4.5,6 C3.67157288,6 3,6.67157288 3,7.5 C3,8.32842712 3.67157288,9 4.5,9 Z M12.5,9 C13.3284271,9 14,8.32842712 14,7.5 C14,6.67157288 13.3284271,6 12.5,6 C11.6715729,6 11,6.67157288 11,7.5 C11,8.32842712 11.6715729,9 12.5,9 Z M2.5486669,0 L14.420089,0 C14.7977406,0 15.1613805,0.149260956 15.4374308,0.417695511 L16.9999668,2.00634766 L0,2.00634766 L1.58537972,0.395493117 C1.84682061,0.141306827 2.19106994,0 2.5486669,0 Z",id:"Fill-1"}))));break;default:t=null}return a.createElement(An,{text:e.tooltip,autoShowTooltip:e.autoShowTooltip},a.createElement("button",{className:c.actionButton,onClick:e.onClick},t))},Pn=function(e){return a.createElement("div",{className:c.loadingOverlay,"data-test":X},a.createElement("div",{className:c.loadingContainer},a.createElement("div",{className:c.loadingLogo,"data-test":Q},a.createElement("svg",{viewBox:"0 0 800 481",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"Page-1",fillRule:"evenodd"},a.createElement("g",{id:"AWS_logo_RGB-(1)",transform:"translate(-16 -17)",fillRule:"nonzero"},a.createElement("path",{d:"M241.371,190.172 C241.371,197.487 241.371,204.801 245.028,212.115 C245.028,219.43 248.685,226.744 252.343,234.058 C252.343,234.058 252.343,237.715 256,241.373 C256,245.03 252.343,248.688 252.343,248.688 L234.058,256.002 C230.401,256.002 230.401,259.659 226.743,259.659 C223.085,259.659 219.428,259.659 219.428,256.002 C219.428,252.345 212.113,248.687 208.457,245.031 C208.457,237.716 204.8,234.06 201.142,226.745 C182.856,248.688 153.599,263.317 124.342,263.317 C106.057,263.317 84.114,256.002 69.485,245.031 C54.856,230.402 51.2,212.116 51.2,193.831 C51.2,171.888 58.515,153.603 73.143,138.974 C91.428,124.345 113.371,117.031 138.972,117.031 C149.943,117.031 157.258,117.031 168.229,120.688 C179.2,120.688 186.515,124.345 197.486,128.003 L197.486,106.06 C197.486,91.431 193.829,76.803 186.515,62.174 C171.886,54.859 157.258,51.203 142.629,51.203 C131.658,51.203 124.344,51.203 113.372,54.86 C102.4,58.517 95.087,62.175 84.115,65.832 C80.458,65.832 76.801,69.489 73.143,69.489 L69.486,69.489 C65.829,69.489 62.171,65.832 62.171,62.174 L62.171,47.545 C62.171,43.888 62.171,40.23 65.828,36.574 C69.485,36.574 73.142,32.917 73.142,32.917 C84.114,29.26 95.085,25.603 109.714,21.946 C124.343,18.289 138.971,18.289 149.942,18.289 C175.542,14.632 201.142,21.946 219.428,36.574 C234.057,54.859 245.028,76.802 241.371,102.403 L241.371,190.175 L241.371,190.172 Z M131.657,230.4 C142.628,230.4 149.942,230.4 160.914,226.743 C171.886,223.086 179.199,215.772 186.514,208.457 C190.171,204.8 193.829,197.486 193.829,193.828 C197.486,182.857 197.486,175.543 197.486,168.228 L197.486,157.257 C190.171,157.257 182.857,153.6 171.886,153.6 C164.571,153.6 153.6,153.6 146.286,153.6 C135.315,149.943 120.686,153.6 109.714,160.915 C98.742,168.23 95.085,179.2 95.085,190.172 C95.085,201.143 98.742,212.115 106.057,219.429 C113.372,226.743 124.342,230.4 131.657,230.4 Z M347.428,259.657 C343.771,259.657 340.113,259.657 336.457,256 C332.801,252.343 332.8,248.685 332.8,245.029 L270.629,40.229 C270.629,36.572 266.972,32.914 266.972,29.258 C266.972,29.258 266.972,25.601 266.972,25.601 C266.972,25.601 270.629,21.944 270.629,25.601 L296.229,25.601 C299.886,25.601 303.544,25.601 307.2,29.258 C310.857,29.258 314.515,32.915 314.515,36.573 L358.4,212.116 L402.285,36.573 C402.285,32.916 405.942,29.259 405.942,25.602 C409.599,21.945 413.257,21.945 416.913,21.945 L438.856,21.945 C442.513,21.945 446.171,21.945 449.827,25.602 C453.483,29.259 453.484,32.917 453.484,36.573 L493.712,215.773 L541.255,36.573 C541.255,32.916 544.912,29.259 544.912,25.602 C548.569,21.945 552.226,21.945 555.883,21.945 L581.483,21.945 C581.483,21.945 585.14,21.945 585.14,21.945 C585.14,21.945 588.797,25.602 585.14,25.602 C585.14,25.602 585.14,29.259 585.14,29.259 C585.14,32.916 585.14,32.916 581.483,36.573 L515.655,241.373 C515.655,245.03 511.998,248.688 508.34,252.344 C504.682,256 501.025,256.001 497.369,256.001 L475.426,256.001 C471.769,256.001 468.111,256.001 464.455,252.344 C460.799,248.687 460.798,245.029 460.798,241.373 L427.884,73.145 L387.656,245.031 C387.656,248.688 383.999,252.346 383.999,256.002 C380.342,259.659 376.684,259.659 373.028,259.659 L347.428,259.659 L347.428,259.657 Z M687.543,266.971 C672.914,266.971 658.286,266.971 647.314,263.314 C636.342,259.657 625.371,255.999 618.057,252.343 C610.743,248.686 607.086,245.028 607.086,237.714 L607.086,223.085 C607.086,215.77 610.743,215.77 614.4,215.77 C614.4,215.77 618.057,215.77 618.057,215.77 L625.371,219.427 C636.342,223.084 643.656,226.742 654.628,230.398 C665.6,234.054 676.571,234.055 687.542,234.055 C702.171,234.055 713.142,230.398 727.771,226.74 C735.085,223.083 742.4,212.111 742.4,201.14 C742.4,193.825 738.743,186.511 735.086,182.855 C727.772,175.54 716.801,171.884 705.829,168.226 L665.6,157.255 C650.971,153.598 636.343,142.626 625.372,131.655 C618.058,120.683 610.743,106.055 610.743,91.427 C610.743,80.455 614.4,69.484 618.057,62.17 C621.714,54.856 629.028,47.541 636.342,40.227 C643.656,32.912 654.627,29.256 661.942,25.598 C672.913,21.941 683.885,21.941 694.856,21.941 C702.17,21.941 705.827,21.941 713.141,21.941 C720.455,21.941 724.112,21.941 731.426,25.598 C735.083,25.598 742.397,29.255 746.055,29.255 C749.713,29.255 753.369,32.912 757.026,32.912 C760.683,32.912 764.34,36.569 764.34,40.227 C767.997,36.57 767.997,40.227 767.997,43.884 L767.997,54.855 C767.997,62.17 764.34,62.17 760.683,62.17 C757.026,62.17 753.369,62.17 749.712,58.513 C735.083,51.198 716.798,47.542 698.512,47.542 C687.541,47.542 672.912,51.199 661.94,54.857 C658.283,65.829 654.626,73.142 654.626,84.114 C654.626,91.428 658.283,98.743 661.94,102.399 C669.254,109.713 680.225,113.371 691.197,117.028 L727.769,128 C742.398,131.657 757.026,142.629 767.997,153.6 C775.311,164.571 782.626,179.2 778.968,193.828 C778.968,204.799 775.311,215.771 771.654,223.085 C767.997,234.056 760.683,241.37 753.369,245.028 C746.055,252.343 735.084,255.999 724.112,259.656 C713.14,263.313 702.169,266.971 687.54,266.971 L687.543,266.971 Z",id:"Shape"}),a.createElement("path",{d:"M738.743,398.628 C650.972,464.457 522.972,497.371 416.914,497.371 C270.628,497.371 128,446.171 21.943,347.428 C10.971,336.457 18.286,329.142 29.257,332.8 C149.943,402.286 285.257,438.857 424.228,438.857 C526.628,438.857 629.028,416.914 727.771,376.686 C742.4,369.371 753.371,387.657 738.742,398.629 L738.743,398.628 Z",id:"Shape"}),a.createElement("path",{d:"M775.314,354.743 C764.343,340.115 702.171,347.428 672.914,351.086 C665.6,351.086 661.943,343.771 669.257,340.115 C720.457,303.543 800.914,314.515 811.886,325.487 C822.858,336.459 808.229,420.572 760.686,460.802 C753.372,468.117 746.057,464.459 749.715,457.145 C764.344,427.888 786.287,369.373 775.315,354.745 L775.314,354.743 Z",id:"Shape"}))))),a.createElement("div",{className:c.loadingSceneName,"data-test":$},e.sceneName),e.sceneError?a.createElement("div",{className:c.sceneErrorText,"data-test":te},e.sceneError.displayText):a.createElement("div",{className:c.loadingBar,"data-test":ee},a.createElement("div",{className:c.loadingBarFill,style:{width:e.percentage+"%"}}))))},xn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ln=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},Tn=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Nn=new o.c("SumerianScene");!function(e){function t(t){var n=e.call(this,t)||this;return n.state={showEnableAudio:!1,muted:!1,loading:!0,percentage:0,isFullscreen:!1,sceneError:null,isVRPresentationActive:!1},n}xn(t,e),t.prototype.setStateAsync=function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))},t.prototype.componentDidMount=function(){document.addEventListener("fullscreenchange",this.onFullscreenChange.bind(this)),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange.bind(this)),document.addEventListener("mozfullscreenchange",this.onFullscreenChange.bind(this)),document.addEventListener("MSFullscreenChange",this.onFullscreenChange.bind(this)),this.loadAndSetupScene(this.props.sceneName,"scene-dom-id")},t.prototype.componentWillUnmount=function(){document.removeEventListener("fullscreenchange",this.onFullscreenChange.bind(this)),document.removeEventListener("webkitfullscreenchange",this.onFullscreenChange.bind(this)),document.removeEventListener("mozfullscreenchange",this.onFullscreenChange.bind(this)),document.removeEventListener("MSFullscreenChange",this.onFullscreenChange.bind(this))},t.prototype.loadAndSetupScene=function(e,t){return Ln(this,void 0,void 0,(function(){var n,o,r,i=this;return Tn(this,(function(a){switch(a.label){case 0:this.setStateAsync({loading:!0}),n={progressCallback:function(e){var t=100*e;i.setState({percentage:t})}},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,On.a.loadScene(e,t,n)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),r={displayText:"Failed to load scene",error:o},Nn.error(r.displayText,r.error),this.setStateAsync({sceneError:r}),[2];case 4:return On.a.start(e),this.setStateAsync({muted:On.a.isMuted(e),isVRPresentationActive:On.a.isVRPresentationActive(e),loading:!1}),On.a.onSceneEvent(e,"AudioEnabled",(function(){return i.setStateAsync({showEnableAudio:!1})})),On.a.onSceneEvent(e,"AudioDisabled",(function(){return i.setStateAsync({showEnableAudio:!0})})),[2]}}))}))},t.prototype.setMuted=function(e){this.state.showEnableAudio&&(On.a.enableAudio(this.props.sceneName),this.setState({showEnableAudio:!1})),On.a.setMuted(this.props.sceneName,e),this.setState({muted:e})},t.prototype.onFullscreenChange=function(){var e=document;this.setState({isFullscreen:null!==e.fullscreenElement})},t.prototype.maximize=function(){return Ln(this,void 0,void 0,(function(){return Tn(this,(function(e){switch(e.label){case 0:return[4,document.getElementById("scene-container-dom-id").requestFullscreen()];case 1:return e.sent(),[2]}}))}))},t.prototype.minimize=function(){return Ln(this,void 0,void 0,(function(){var e;return Tn(this,(function(t){return(e=document).exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen(),[2]}))}))},t.prototype.toggleVRPresentation=function(){try{this.state.isVRPresentationActive?On.a.exitVR(this.props.sceneName):On.a.enterVR(this.props.sceneName)}catch(e){return void Nn.error("Unable to start/stop WebVR System: "+e.message)}this.setState({isVRPresentationActive:!this.state.isVRPresentationActive})},t.prototype.render=function(){var e,t,n,o=this;return On.a.isSceneLoaded(this.props.sceneName)&&(e=this.state.showEnableAudio?a.createElement(In,{variant:"sound-mute",tooltip:"The scene is muted. Click to unmute.",onClick:function(){return o.setMuted(!1)},autoShowTooltip:!0}):On.a.isMuted(this.props.sceneName)?a.createElement(In,{variant:"sound-mute",tooltip:"Unmute",onClick:function(){return o.setMuted(!1)}}):a.createElement(In,{variant:"sound",tooltip:"Mute",onClick:function(){return o.setMuted(!0)}}),On.a.isVRCapable(this.props.sceneName)&&(this.state.isVRPresentationActive?(Nn.info("VR Presentation Active"),t=a.createElement(In,{variant:"exit-vr",tooltip:"Exit VR",onClick:function(){return o.toggleVRPresentation()}})):(Nn.info("VR Presentation Inactive"),t=a.createElement(In,{variant:"enter-vr",tooltip:"Enter VR",onClick:function(){return o.toggleVRPresentation()}}))),n=this.state.isFullscreen?a.createElement(In,{variant:"minimize",tooltip:"Exit Fullscreen",onClick:function(){return o.minimize()}}):a.createElement(In,{variant:"maximize",tooltip:"Fullscreen",onClick:function(){return o.maximize()}})),a.createElement("div",{id:"scene-container-dom-id",className:c.sumerianSceneContainer,"data-test":J},a.createElement("div",{id:"scene-dom-id",className:c.sumerianScene,"data-test":Y},this.state.loading&&a.createElement(Pn,{sceneName:this.props.sceneName,percentage:this.state.percentage,sceneError:this.state.sceneError})),a.createElement("div",{className:c.sceneBar,"data-test":ne},a.createElement("span",{className:c.sceneActions,"data-test":oe},e,t,n)))}}(a.Component);n.d(t,"a",(function(){return Zt})),n.d(t,"b",(function(){return ot})),o.g.putVocabularies(r)},659:function(e,t,n){},660:function(e,t,n){"use strict";function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=n(0),d=n(6),h=n(661),f=n(640);function m(e){for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o<2048?(t+=String.fromCharCode(192|o>>6),t+=String.fromCharCode(128|63&o)):o<55296||o>=57344?(t+=String.fromCharCode(224|o>>12),t+=String.fromCharCode(128|o>>6&63),t+=String.fromCharCode(128|63&o)):(n++,o=65536+((1023&o)<<10|1023&e.charCodeAt(n)),t+=String.fromCharCode(240|o>>18),t+=String.fromCharCode(128|o>>12&63),t+=String.fromCharCode(128|o>>6&63),t+=String.fromCharCode(128|63&o))}return t}var g={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000"},y={value:d.string.isRequired,size:d.number,level:d.oneOf(["L","M","Q","H"]),bgColor:d.string,fgColor:d.string},v=function(e){function t(){var e,n,o;a(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return u(o,(n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Object.defineProperty(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o),"_canvas",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),n))}return l(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){var n=this;return Object.keys(t.propTypes).some((function(t){return n.props[t]!==e[t]}))}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,n=e.size,o=e.level,r=e.bgColor,i=e.fgColor,a=new h(-1,f[o]);if(a.addData(m(t)),a.make(),null!=this._canvas){var s=this._canvas,c=s.getContext("2d");if(!c)return;var u=a.modules;if(null===u)return;var l=n/u.length,p=n/u.length,d=(window.devicePixelRatio||1)/function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}(c);s.height=s.width=n*d,c.scale(d,d),u.forEach((function(e,t){e.forEach((function(e,n){c&&(c.fillStyle=e?i:r);var o=Math.ceil((n+1)*l)-Math.floor(n*l),a=Math.ceil((t+1)*p)-Math.floor(t*p);c&&c.fillRect(Math.round(n*l),Math.round(t*p),o,a)}))}))}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.value,t.size),o=(t.level,t.bgColor,t.fgColor,t.style),a=i(t,["value","size","level","bgColor","fgColor","style"]),s=r({height:n,width:n},o);return p.createElement("canvas",r({style:s,height:n,width:n,ref:function(t){return e._canvas=t}},a))}}]),t}(p.Component);Object.defineProperty(v,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:g}),Object.defineProperty(v,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:y});var b=function(e){function t(){return a(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){var t=this;return Object.keys(v.propTypes).some((function(n){return t.props[n]!==e[n]}))}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.size,o=e.level,a=e.bgColor,s=e.fgColor,c=i(e,["value","size","level","bgColor","fgColor"]),u=new h(-1,f[o]);u.addData(m(t)),u.make();var l=u.modules;if(null!==l){var d=[];return l.forEach((function(e,t){var n=null;e.forEach((function(o,r){if(!o&&null!==n)return d.push("M".concat(n," ").concat(t,"h").concat(r-n,"v1H").concat(n,"z")),void(n=null);if(r!==e.length-1)o&&null===n&&(n=r);else{if(!o)return;null===n?d.push("M".concat(r,",").concat(t," h1v1H").concat(r,"z")):d.push("M".concat(n,",").concat(t," h").concat(r+1-n,"v1H").concat(n,"z"))}}))})),p.createElement("svg",r({shapeRendering:"crispEdges",height:n,width:n,viewBox:"0 0 ".concat(l.length," ").concat(l.length)},c),p.createElement("path",{fill:a,d:"M0,0 h".concat(l.length,"v").concat(l.length,"H0z")}),p.createElement("path",{fill:s,d:d.join("")}))}}}]),t}(p.Component);Object.defineProperty(b,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:g}),Object.defineProperty(b,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:y});var C=function(e){var t=e.renderAs,n=i(e,["renderAs"]),o="svg"===t?b:v;return p.createElement(o,n)};C.defaultProps=r({renderAs:"canvas"},g),e.exports=C},661:function(e,t,n){var o=n(662),r=n(663),i=n(664),a=n(665),s=n(641);function c(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=c.prototype;u.addData=function(e){var t=new o(e);this.dataList.push(t),this.dataCache=null},u.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=r.getRSBlocks(e,this.errorCorrectLevel),n=new i,o=0,s=0;s<t.length;s++)o+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var c=this.dataList[s];n.put(c.mode,4),n.put(c.getLength(),a.getLengthInBits(c.mode,e)),c.write(n)}if(n.getLengthInBits()<=8*o)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=c.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},u.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(this.modules[e+n][t+o]=0<=n&&n<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=o&&o<=4)},u.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var o=a.getLostPoint(this);(0==n||e>o)&&(e=o,t=n)}return t},u.createMovieClip=function(e,t,n){var o=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var i=1*r,a=0;a<this.modules[r].length;a++){var s=1*a;this.modules[r][a]&&(o.beginFill(0,100),o.moveTo(s,i),o.lineTo(s+1,i),o.lineTo(s+1,i+1),o.lineTo(s,i+1),o.endFill())}return o},u.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},u.setupPositionAdjustPattern=function(){for(var e=a.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var o=e[t],r=e[n];if(null==this.modules[o][r])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[o+i][r+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},u.setupTypeNumber=function(e){for(var t=a.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var o=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=o}for(n=0;n<18;n++){o=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=o}},u.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,o=a.getBCHTypeInfo(n),r=0;r<15;r++){var i=!e&&1==(o>>r&1);r<6?this.modules[r][8]=i:r<8?this.modules[r+1][8]=i:this.modules[this.moduleCount-15+r][8]=i}for(r=0;r<15;r++){i=!e&&1==(o>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=i:r<9?this.modules[8][15-r-1+1]=i:this.modules[8][15-r-1]=i}this.modules[this.moduleCount-8][8]=!e},u.mapData=function(e,t){for(var n=-1,o=this.moduleCount-1,r=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var c=0;c<2;c++)if(null==this.modules[o][s-c]){var u=!1;i<e.length&&(u=1==(e[i]>>>r&1)),a.getMask(t,o,s-c)&&(u=!u),this.modules[o][s-c]=u,-1==--r&&(i++,r=7)}if((o+=n)<0||this.moduleCount<=o){o-=n,n=-n;break}}},c.PAD0=236,c.PAD1=17,c.createData=function(e,t,n){for(var o=r.getRSBlocks(e,t),s=new i,u=0;u<n.length;u++){var l=n[u];s.put(l.mode,4),s.put(l.getLength(),a.getLengthInBits(l.mode,e)),l.write(s)}var p=0;for(u=0;u<o.length;u++)p+=o[u].dataCount;if(s.getLengthInBits()>8*p)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*p+")");for(s.getLengthInBits()+4<=8*p&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*p)&&(s.put(c.PAD0,8),!(s.getLengthInBits()>=8*p));)s.put(c.PAD1,8);return c.createBytes(s,o)},c.createBytes=function(e,t){for(var n=0,o=0,r=0,i=new Array(t.length),c=new Array(t.length),u=0;u<t.length;u++){var l=t[u].dataCount,p=t[u].totalCount-l;o=Math.max(o,l),r=Math.max(r,p),i[u]=new Array(l);for(var d=0;d<i[u].length;d++)i[u][d]=255&e.buffer[d+n];n+=l;var h=a.getErrorCorrectPolynomial(p),f=new s(i[u],h.getLength()-1).mod(h);c[u]=new Array(h.getLength()-1);for(d=0;d<c[u].length;d++){var m=d+f.getLength()-c[u].length;c[u][d]=m>=0?f.get(m):0}}var g=0;for(d=0;d<t.length;d++)g+=t[d].totalCount;var y=new Array(g),v=0;for(d=0;d<o;d++)for(u=0;u<t.length;u++)d<i[u].length&&(y[v++]=i[u][d]);for(d=0;d<r;d++)for(u=0;u<t.length;u++)d<c[u].length&&(y[v++]=c[u][d]);return y},e.exports=c},662:function(e,t,n){var o=n(639);function r(e){this.mode=o.MODE_8BIT_BYTE,this.data=e}r.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=r},663:function(e,t,n){var o=n(640);function r(e,t){this.totalCount=e,this.dataCount=t}r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(e,t){var n=r.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=n.length/3,i=new Array,a=0;a<o;a++)for(var s=n[3*a+0],c=n[3*a+1],u=n[3*a+2],l=0;l<s;l++)i.push(new r(c,u));return i},r.getRsBlockTable=function(e,t){switch(t){case o.L:return r.RS_BLOCK_TABLE[4*(e-1)+0];case o.M:return r.RS_BLOCK_TABLE[4*(e-1)+1];case o.Q:return r.RS_BLOCK_TABLE[4*(e-1)+2];case o.H:return r.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=r},664:function(e,t){function n(){this.buffer=new Array,this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},665:function(e,t,n){var o=n(639),r=n(641),i=n(642),a=0,s=1,c=2,u=3,l=4,p=5,d=6,h=7,f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;f.getBCHDigit(t)-f.getBCHDigit(f.G15)>=0;)t^=f.G15<<f.getBCHDigit(t)-f.getBCHDigit(f.G15);return(e<<10|t)^f.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;f.getBCHDigit(t)-f.getBCHDigit(f.G18)>=0;)t^=f.G18<<f.getBCHDigit(t)-f.getBCHDigit(f.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return f.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case a:return(t+n)%2==0;case s:return t%2==0;case c:return n%3==0;case u:return(t+n)%3==0;case l:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case p:return t*n%2+t*n%3==0;case d:return(t*n%2+t*n%3)%2==0;case h:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new r([1],0),n=0;n<e;n++)t=t.multiply(new r([1,i.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:case o.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,o=0;o<t;o++)for(var r=0;r<t;r++){for(var i=0,a=e.isDark(o,r),s=-1;s<=1;s++)if(!(o+s<0||t<=o+s))for(var c=-1;c<=1;c++)r+c<0||t<=r+c||0==s&&0==c||a==e.isDark(o+s,r+c)&&i++;i>5&&(n+=3+i-5)}for(o=0;o<t-1;o++)for(r=0;r<t-1;r++){var u=0;e.isDark(o,r)&&u++,e.isDark(o+1,r)&&u++,e.isDark(o,r+1)&&u++,e.isDark(o+1,r+1)&&u++,0!=u&&4!=u||(n+=3)}for(o=0;o<t;o++)for(r=0;r<t-6;r++)e.isDark(o,r)&&!e.isDark(o,r+1)&&e.isDark(o,r+2)&&e.isDark(o,r+3)&&e.isDark(o,r+4)&&!e.isDark(o,r+5)&&e.isDark(o,r+6)&&(n+=40);for(r=0;r<t;r++)for(o=0;o<t-6;o++)e.isDark(o,r)&&!e.isDark(o+1,r)&&e.isDark(o+2,r)&&e.isDark(o+3,r)&&e.isDark(o+4,r)&&!e.isDark(o+5,r)&&e.isDark(o+6,r)&&(n+=40);var l=0;for(r=0;r<t;r++)for(o=0;o<t;o++)e.isDark(o,r)&&l++;return n+=10*(Math.abs(100*l/t/t-50)/5)}};e.exports=f},666:function(e,t,n){(function(e){var t;!function e(n,o,r){function i(s,c){if(!o[s]){if(!n[s]){if(!c&&("function"==typeof t&&t))return t(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=o[s]={exports:{}};n[s][0].call(l.exports,(function(e){var t=n[s][1][e];return i(t||e)}),l,l.exports,e,n,o,r)}return o[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){!function(){"use strict";var t,o,r,i,a=e("./recorder.js"),s="Audio is not supported.";n.audioControl=function(e){e=e||{},this.checkAudioSupport=!1!==e.checkAudioSupport;var n=function(e){e=e||function(){},navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(o=a.audioRecorder()).requestDevice().then((function(t){e(r=!0)})).catch((function(t){e(r=!1)})):e(r=!1)};return this.checkAudioSupport&&n(),{startRecording:function(e,n,i){if(e=e||function(){},n=n||function(){},!(r=!1!==r))throw new Error(s);(t=o.createRecorder(i)).record(e,n)},stopRecording:function(){if(!(r=!1!==r))throw new Error(s);t.stop()},exportWAV:function(e,n){if(!(r=!1!==r))throw new Error(s);if(!e||"function"!==typeof e)throw new Error("You must pass a callback function to export.");n="undefined"!==typeof n?n:16e3,t.exportWAV(e,n),t.clear()},play:function(e,t){if("undefined"!==typeof e){var n=new Blob([e]),r=new FileReader;r.onload=function(){i=o.audioContext().createBufferSource(),o.audioContext().decodeAudioData(this.result,(function(e){i.buffer=e,i.connect(o.audioContext().destination),i.onended=function(e){"function"===typeof t&&t()},i.start(0)}))},r.readAsArrayBuffer(n)}},stop:function(){"undefined"!==typeof i&&i.stop()},clear:function(){t.clear()},playHtmlAudioElement:function(e,t){if("undefined"!==typeof e){var n=new Blob([e]),o=document.createElement("audio"),r=window.URL.createObjectURL(n);o.src=r,o.addEventListener("ended",(function(){o.currentTime=0,"function"===typeof t&&t()})),o.play()}},supportsAudio:n}}}()},{"./recorder.js":5}],2:[function(e,t,n){!function(){"use strict";var t,o=e("./control.js").audioControl,r=Object.freeze({PASSIVE:"Passive",LISTENING:"Listening",SENDING:"Sending",SPEAKING:"Speaking"}),i=new o({checkAudioSupport:!1});n.conversation=function(e,n,o,s,c){var u;if(this.config=l(e),this.lexConfig=this.config.lexConfig,this.messages=r,n=n||function(){},this.onSuccess=o||function(){},this.onError=s||function(){},this.onAudioData=c||function(){},this.config.lexConfig.botName)if(AWS.config.credentials){if(AWS.config.region)return t=new AWS.LexRuntime,this.onSilence=function(){e.silenceDetection&&(i.stopRecording(),u.advanceConversation())},this.transition=function(e){var t=(u=e).state;n(t.message),t.message!==t.messages.SENDING&&t.message!==t.messages.SPEAKING||u.advanceConversation(),t.message!==t.messages.SENDING||this.config.silenceDetection||i.stopRecording()},this.advanceConversation=function(){i.supportsAudio((function(e){e?u.advanceConversation():s("Audio is not supported.")}))},this.updateConfig=function(e){this.config=l(e),this.lexConfig=this.config.lexConfig},this.reset=function(){i.clear(),u=new a(u.state)},u=new a(this),{advanceConversation:this.advanceConversation,updateConfig:this.updateConfig,reset:this.reset};this.onError("A Region value must be provided.")}else this.onError("AWS Credentials must be provided.");else this.onError("A Bot name must be provided.")};var a=function(e){this.state=e,e.message=e.messages.PASSIVE,this.advanceConversation=function(){i.startRecording(e.onSilence,e.onAudioData,e.config.silenceDetectionConfig),e.transition(new s(e))}},s=function(e){this.state=e,e.message=e.messages.LISTENING,this.advanceConversation=function(){i.exportWAV((function(t){e.audioInput=t,e.transition(new c(e))}))}},c=function(e){this.state=e,e.message=e.messages.SENDING,this.advanceConversation=function(){e.lexConfig.inputStream=e.audioInput,t.postContent(e.lexConfig,(function(t,n){t?(e.onError(t),e.transition(new a(e))):(e.audioOutput=n,e.transition(new u(e)),e.onSuccess(n))}))}},u=function(e){this.state=e,e.message=e.messages.SPEAKING,this.advanceConversation=function(){"audio/mpeg"===e.audioOutput.contentType?i.play(e.audioOutput.audioStream,(function(){"ReadyForFulfillment"!==e.audioOutput.dialogState&&"Fulfilled"!==e.audioOutput.dialogState&&"Failed"!==e.audioOutput.dialogState&&e.config.silenceDetection?(i.startRecording(e.onSilence,e.onAudioData,e.config.silenceDetectionConfig),e.transition(new s(e))):e.transition(new a(e))})):e.transition(new a(e))}},l=function(e){(e=e||{}).silenceDetection=!e.hasOwnProperty("silenceDetection")||e.silenceDetection;var t=e.lexConfig||{};return t.botAlias=t.hasOwnProperty("botAlias")?t.botAlias:"$LATEST",t.botName=t.hasOwnProperty("botName")?t.botName:"",t.contentType=t.hasOwnProperty("contentType")?t.contentType:"audio/x-l16; sample-rate=16000",t.userId=t.hasOwnProperty("userId")?t.userId:"userId",t.accept=t.hasOwnProperty("accept")?t.accept:"audio/mpeg",e.lexConfig=t,e}}()},{"./control.js":1}],3:[function(t,n,o){(function(e){e.LexAudio=e.LexAudio||{},e.LexAudio.audioControl=t("./control.js").audioControl,e.LexAudio.conversation=t("./conversation.js").conversation,n.exports=e.LexAudio}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./control.js":1,"./conversation.js":2}],4:[function(e,t,n){var o=arguments[3],r=arguments[4],i=arguments[5],a=JSON.stringify;t.exports=function(e,t){for(var n,s=Object.keys(i),c=0,u=s.length;c<u;c++){var l=s[c],p=i[l].exports;if(p===e||p&&p.default===e){n=l;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var d={};for(c=0,u=s.length;c<u;c++){d[l=s[c]]=l}r[n]=[Function(["require","module","exports"],"("+e+")(self)"),d]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};f[n]=n,r[h]=[Function(["require"],"var f = require("+a(n)+");(f.default ? f.default : f)(self);"),f];var m={};!function e(t){for(var n in m[t]=!0,r[t][1]){var o=r[t][1][n];m[o]||e(o)}}(h);var g="("+o+")({"+Object.keys(m).map((function(e){return a(e)+":["+r[e][0]+","+a(r[e][1])+"]"})).join(",")+"},{},["+a(h)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return v;var b=y.createObjectURL(v),C=new Worker(b);return C.objectURL=b,C}},{}],5:[function(e,t,n){!function(){"use strict";var t,o,r=e("webworkify")(e("./worker.js")),i=function(e,t){(t=t||{}).time=t.hasOwnProperty("time")?t.time:1500,t.amplitude=t.hasOwnProperty("amplitude")?t.amplitude:.2;var n,o,i,a,s=!1,c=e.context.createScriptProcessor(4096,1,1);r.onmessage=function(e){var t=e.data;n(t)},r.postMessage({command:"init",config:{sampleRate:e.context.sampleRate}});var u=function(){s=!1};c.onaudioprocess=function(e){s&&(r.postMessage({command:"record",buffer:[e.inputBuffer.getChannelData(0)]}),function(){l.fftSize=2048;var e=l.fftSize,n=new Uint8Array(e),r=t.amplitude,s=t.time;l.getByteTimeDomainData(n),"function"===typeof a&&a(n,e);for(var c=0;c<e;c++){var u=n[c]/128-1;(u>r||u<-1*r)&&(o=Date.now())}Date.now()-o>s&&i()}())};var l=e.context.createAnalyser();return l.minDecibels=-90,l.maxDecibels=-10,l.smoothingTimeConstant=.85,e.connect(l),l.connect(c),c.connect(e.context.destination),{record:function(e,t){i=e,a=t,o=Date.now(),s=!0},stop:u,clear:function(){u(),r.postMessage({command:"clear"})},exportWAV:function(e,t){n=e,r.postMessage({command:"export",sampleRate:t})}}};n.audioRecorder=function(){return{requestDevice:function(){return"undefined"===typeof t&&(window.AudioContext=window.AudioContext||window.webkitAudioContext,t=new AudioContext),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){o=e}))},createRecorder:function(e){return i(t.createMediaStreamSource(o),e)},audioContext:function(){return t}}}}()},{"./worker.js":6,webworkify:4}],6:[function(e,t,n){t.exports=function(e){"use strict";var t,n=0,o=[];function r(e,t,n){for(var o=0;o<n.length;o++)e.setUint8(t+o,n.charCodeAt(o))}e.addEventListener("message",(function(e){switch(e.data.command){case"init":a=e.data.config,t=a.sampleRate;break;case"record":i=e.data.buffer,o.push(i[0]),n+=i[0].length;break;case"export":!function(e){var i=function(e){var n=new ArrayBuffer(44+2*e.length),o=new DataView(n);return r(o,0,"RIFF"),o.setUint32(4,32+2*e.length,!0),r(o,8,"WAVE"),r(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,1,!0),o.setUint32(24,t,!0),o.setUint32(28,2*t,!0),o.setUint16(32,2,!0),o.setUint16(34,16,!0),r(o,36,"data"),o.setUint32(40,2*e.length,!0),function(e,t,n){for(var o=0;o<n.length;o++,t+=2){var r=Math.max(-1,Math.min(1,n[o]));e.setInt16(t,r<0?32768*r:32767*r,!0)}}(o,44,e),o}(function(e,n){if(n===t)return e;var o=t/n,r=Math.round(e.length/o),i=new Float32Array(r),a=0,s=0;for(;a<i.length;){for(var c=Math.round((a+1)*o),u=0,l=0,p=s;p<c&&p<e.length;p++)u+=e[p],l++;i[a]=u/l,a++,s=c}return i}(function(e,t){for(var n=new Float32Array(t),o=0,r=0;r<e.length;r++)n.set(e[r],o),o+=e[r].length;return n}(o,n),e)),a=new Blob([i],{type:"application/octet-stream"});postMessage(a)}(e.data.sampleRate);break;case"clear":n=0,o=[]}var i,a}))}},{}]},{},[3])}).call(this,n(36))},700:function(e,t,n){"use strict";var o=n(2),r=n(5),i=n(0),a=n.n(i),s=(n(6),n(8)),c=n(18),u=n(9),l=n(33),p=n(56),d=a.a.forwardRef((function(e,t){var n=e.classes,i=e.className,u=e.color,l=void 0===u?"primary":u,d=e.value,h=e.valueBuffer,f=e.variant,m=void 0===f?"indeterminate":f,g=Object(r.a)(e,["classes","className","color","value","valueBuffer","variant"]),y=Object(p.a)(),v={},b={bar1:{},bar2:{}};if("determinate"===m||"buffer"===m)if(void 0!==d){v["aria-valuenow"]=Math.round(d);var C=d-100;"rtl"===y.direction&&(C=-C),b.bar1.transform="translateX(".concat(C,"%)")}else 0;if("buffer"===m)if(void 0!==h){var w=(h||0)-100;"rtl"===y.direction&&(w=-w),b.bar2.transform="translateX(".concat(w,"%)")}else 0;return a.a.createElement("div",Object(o.a)({className:Object(s.a)(n.root,n["color".concat(Object(c.a)(l))],i,{determinate:n.determinate,indeterminate:n.indeterminate,buffer:n.buffer,query:n.query}[m]),role:"progressbar"},v,{ref:t},g),"buffer"===m?a.a.createElement("div",{className:Object(s.a)(n.dashed,n["dashedColor".concat(Object(c.a)(l))])}):null,a.a.createElement("div",{className:Object(s.a)(n.bar,n["barColor".concat(Object(c.a)(l))],("indeterminate"===m||"query"===m)&&n.bar1Indeterminate,{determinate:n.bar1Determinate,buffer:n.bar1Buffer}[m]),style:b.bar1}),"determinate"===m?null:a.a.createElement("div",{className:Object(s.a)(n.bar,("indeterminate"===m||"query"===m)&&n.bar2Indeterminate,"buffer"===m?[n["color".concat(Object(c.a)(l))],n.bar2Buffer]:n["barColor".concat(Object(c.a)(l))]),style:b.bar2}))}));t.a=Object(u.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(l.d)(t,.62):Object(l.a)(t,.5)},n=t(e.palette.primary.main),o=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4},colorPrimary:{backgroundColor:n},colorSecondary:{backgroundColor:o},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(o," 0%, ").concat(o," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0px -23px"},"50%":{opacity:0,backgroundPosition:"0px -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(d)}}]);
//# sourceMappingURL=0.664cc873.chunk.js.map